(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2387:function(e,t,n){Promise.resolve().then(n.bind(n,4171)),Promise.resolve().then(n.bind(n,6234)),Promise.resolve().then(n.bind(n,875)),Promise.resolve().then(n.bind(n,6974)),Promise.resolve().then(n.bind(n,3082)),Promise.resolve().then(n.bind(n,3055)),Promise.resolve().then(n.bind(n,5591))},3657:function(e,t,n){"use strict";n.d(t,{oL:function(){return a},bt:function(){return d},aK:function(){return c},eb:function(){return r},lB:function(){return s},k7:function(){return o},fw:function(){return h},ot:function(){return p}});var i,a,l=n(4042);let o=e=>e.global.windowsOpen,r=(0,l.P1)(o,e=>t=>e.some(e=>e.window===t)),s=(0,l.P1)(o,e=>t=>e.find(e=>e.window===t)),d=e=>e.global.isLoading,c=(0,l.P1)(o,e=>t=>e.some(e=>e.window===t)&&e[e.length-1].window===t);(i=a||(a={})).Deposit="Deposit",i.Swap="Swap",i.Transfer="Transfer",i.Referral="Referral",i.AddWallet="AddWallet",i.Networks="Networks",i.WalletsList="WalletsList",i.AddToken="AddToken",i.TransactionsHistory="TransactionsHistory",i.WalletDetails="WalletDetails",i.TransactionDetails="TransactionDetails",i.ImportWallet="ImportWallet",i.CreateWallet="CreateWallet",i.PrepareTransfer="PrepareTransfer",i.ConfirmTransfer="ConfirmTransfer",i.ConfirmSwap="ConfirmSwap",i.SelectFromToken="SelectFromToken",i.SelectToToken="SelectToToken",i.TokenDetails="TokenDetails";let u=(0,n(2351).oM)({name:"global",initialState:{isLoading:!1,windowsOpen:[]},reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},addWindow:(e,t)=>{e.windowsOpen.some(e=>e.window===t.payload.window)||(e.windowsOpen=[...e.windowsOpen,t.payload])},removeWindow:(e,t)=>{e.windowsOpen=e.windowsOpen.filter(e=>e.window!==t.payload)},removeAllWindows:e=>{e.windowsOpen=[]},removeLastWindow:e=>{e.windowsOpen.pop()}}}),{reducer:p}=u,{actions:h}=u},7833:function(e,t,n){"use strict";n.d(t,{fK:function(){return o}});var i=n(385),a=n(2433),l=n(3657);let o=n(1101).h.injectEndpoints({endpoints:e=>({getWallet:e.query({query:e=>({url:"/wallets/wallet/".concat(e)}),onQueryStarted:async(e,t)=>{let{dispatch:n,queryFulfilled:o,getState:r}=t;try{var s;n(l.fw.setLoading(!0));let e=await o,t=(0,i.KR)(r());(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.data)&&(n(a.vB.setSelectedWallet(e.data.data)),t||n(a.vB.setSelectedNetwork(e.data.data.network)))}finally{n(l.fw.setLoading(!1))}}}),getWallets:e.query({query:()=>({url:"/wallets/list"})}),transfer:e.mutation({query:e=>({url:"/wallets/transfer",method:"POST",body:e})}),createWallet:e.mutation({query:e=>({url:"/wallets/create",method:"POST",body:e})}),importWallet:e.mutation({query:e=>({url:"/wallets/import",method:"POST",body:e})}),deleteWallet:e.mutation({query:e=>({url:"/wallets/delete",method:"DELETE",body:e})}),getTokenInfo:e.query({query:e=>({url:"/wallets/token/info",params:e})}),getTokenPrice:e.query({query:e=>({url:"/wallets/token/price",params:e})}),addWalletToken:e.mutation({query:e=>({url:"/wallets/token/add",method:"POST",body:e})}),deleteWalletToken:e.mutation({query:e=>({url:"/wallets/token/delete",method:"DELETE",body:e})}),getWalletTransactions:e.query({query:e=>({url:"/wallets/transactions",params:e})}),swap:e.mutation({query:e=>({url:"/wallets/swap",method:"POST",body:e})}),getTokenExtendedInfo:e.query({query:e=>({url:"/wallets/token/extended-info",params:e})}),estimateGas:e.mutation({query:e=>({url:"/wallets/estimate-swap-fee",method:"POST",body:e})}),getHistoricalQuotes:e.query({query:e=>({url:"/wallets/token/historical-quotes",params:e})})})}),{useGetWalletQuery:r,useGetWalletsQuery:s,useTransferMutation:d,useCreateWalletMutation:c,useImportWalletMutation:u,useDeleteWalletMutation:p,useGetTokenInfoQuery:h,useGetTokenPriceQuery:x,useAddWalletTokenMutation:w,useGetWalletTransactionsQuery:g,useSwapMutation:f,useLazyGetTokenPriceQuery:C,useGetTokenExtendedInfoQuery:v,useEstimateGasMutation:k,useGetHistoricalQuotesQuery:m,useLazyGetHistoricalQuotesQuery:j,useDeleteWalletTokenMutation:y}=o},4015:function(e,t,n){"use strict";n.d(t,{Zc:function(){return r},LN:function(){return c},iU:function(){return d},Vc:function(){return u.Vc},KR:function(){return u.KR},wg:function(){return u.wg},wR:function(){return u.wR},MX:function(){return u.MX},vB:function(){return p.vB},fK:function(){return h.fK},eI:function(){return p.eI}});var i,a,l,o,r,s,d,c,u=n(385);(i=r||(r={})).SOL="Solana",i.TON="The Open Network",i.ETH="Ethereum",i.BSC="Binance Smart Chain",(a=s||(s={})).IMPORTED="IMPORTED",a.GENERATED="GENERATED",(l=d||(d={})).SWAP="SWAP",l.DEPOSIT="DEPOSIT",l.TRANSFER="TRANSFER",(o=c||(c={})).FAILED="FAILED",o.PENDING="PENDING",o.SUCCESS="SUCCESS";var p=n(2433),h=n(7833)},385:function(e,t,n){"use strict";n.d(t,{KR:function(){return o},MX:function(){return i},Vc:function(){return a},wR:function(){return l},wg:function(){return r}});let i=e=>e.wallet.wallets,a=e=>e.wallet.isLoading,l=e=>e.wallet.selectedWallet,o=e=>e.wallet.selectedNetwork,r=e=>e.wallet.selectedToken},2433:function(e,t,n){"use strict";n.d(t,{eI:function(){return s},vB:function(){return r}});var i=n(4832),a=n(2351),l=n(2649);let o=(0,a.oM)({name:"wallet",initialState:{wallets:[],isLoading:!1,selectedWallet:void 0,selectedNetwork:void 0,selectedToken:void 0},reducers:{setWallets(e,t){e.wallets=t.payload},setIsLoading(e,t){e.isLoading=t.payload},setSelectedWallet(e,t){e.selectedWallet=t.payload,l.Z.set(i.nV,t.payload.id)},setSelectedNetwork(e,t){e.selectedNetwork=t.payload,l.Z.set(i.Ac,t.payload)},setSelectedToken(e,t){e.selectedToken=t.payload},clearSelectedToken(e){e.selectedToken=void 0}}}),{actions:r}=o,{reducer:s}=o},7175:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var i=n(6974),a=n(3082),l=n(875),o=n(3055);let r={ETH:i.default,BNB:l.default,SOL:a.default,TON:o.default};var s=n(5591);let d=e=>{switch(e.symbol){case"SOL":case"TON":case"BNB":case"ETH":return r[e.symbol];case"USDT":return s.default;default:return e.icon}}},4171:function(e,t,n){"use strict";n.r(t),n.d(t,{WalletPage:function(){return t_}});var i,a,l,o,r=n(7437),s=n(2265);let d=s.forwardRef((e,t)=>{var n,i,a,l,o;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M10 10.4413C10.6392 10.4413 11.1574 9.92412 11.1574 9.28619C11.1574 8.64828 10.6392 8.13114 10 8.13114C9.36078 8.13114 8.84259 8.64828 8.84259 9.28619C8.84259 9.92412 9.36078 10.4413 10 10.4413Z",fill:null!==(n=e.fill)&&void 0!==n?n:"white"}),(0,r.jsx)("path",{d:"M6.52778 9.28619C6.52778 9.92412 6.00959 10.4413 5.37037 10.4413C4.73115 10.4413 4.21296 9.92412 4.21296 9.28619C4.21296 8.64828 4.73115 8.13114 5.37037 8.13114C6.00959 8.13114 6.52778 8.64828 6.52778 9.28619Z",fill:null!==(i=e.fill)&&void 0!==i?i:"white"}),(0,r.jsx)("path",{d:"M14.6296 10.4413C15.2688 10.4413 15.787 9.92412 15.787 9.28619C15.787 8.64828 15.2688 8.13114 14.6296 8.13114C13.9904 8.13114 13.4722 8.64828 13.4722 9.28619C13.4722 9.92412 13.9904 10.4413 14.6296 10.4413Z",fill:null!==(a=e.fill)&&void 0!==a?a:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.6721 10.7961L1.6709 10.791L0 9.13964C0 4.02723 4.54517 0 10 0C12.7909 0 15.3264 1.04591 17.1477 2.74668C18.9028 4.3856 20 6.63999 20 9.13964C20 14.252 15.4548 18.2793 10 18.2793C9.73758 18.2793 9.47739 18.27 9.21982 18.2519L7.50737 16.5594L7.49298 16.5624L1.6721 10.7961ZM1.48148 9.13964C1.48148 4.97322 5.22733 1.47847 10 1.47847C12.4195 1.47847 14.5919 2.38481 16.1355 3.82625C17.6206 5.21299 18.5185 7.08756 18.5185 9.13964C18.5185 13.3061 14.7727 16.8008 10 16.8008C9.77244 16.8008 9.54708 16.7928 9.32425 16.7771L9.30453 16.7757C8.82124 16.7405 8.34968 16.6692 7.89328 16.5647C7.75179 16.5323 7.62173 16.5366 7.50737 16.5594L1.6709 10.791C1.54589 10.2666 1.48148 9.71561 1.48148 9.13964Z",fill:null!==(l=e.fill)&&void 0!==l?l:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.80917 18.0592C8.2612 18.1516 8.72453 18.2159 9.19679 18.2502L7.49298 16.5624C7.29784 16.6044 7.15006 16.6994 7.07168 16.7542C6.94067 16.8458 6.80341 16.9725 6.69187 17.0754L6.6707 17.095C6.36659 17.3753 5.94983 17.7589 5.25463 18.148C4.99907 18.291 4.69308 18.3874 4.38433 18.4465C4.46444 18.3416 4.54528 18.2288 4.62409 18.1082C5.02428 17.496 5.13836 16.832 5.11134 16.2917C5.09783 16.0215 5.04838 15.7652 4.96943 15.5447C4.90186 15.356 4.77279 15.0794 4.52426 14.8979C3.05565 13.8248 2.06558 12.4413 1.6721 10.7961L0 9.13964C0 12.013 1.34098 14.3725 3.57104 16.0332L3.57435 16.0422C3.59897 16.111 3.62456 16.2226 3.6317 16.3654C3.64599 16.6511 3.58383 16.9937 3.38328 17.3005C3.17534 17.6186 2.94402 17.8703 2.73513 18.0961L2.72878 18.103C2.65859 18.1789 2.58236 18.2613 2.51744 18.3376C2.45493 18.4111 2.36973 18.5168 2.30471 18.6385C2.24762 18.7454 2.12868 19.0061 2.22225 19.3223C2.32343 19.6641 2.59356 19.8197 2.74308 19.8823C2.85722 19.93 2.97603 19.9521 3.05336 19.9641C3.14475 19.9782 3.24635 19.9879 3.35279 19.9936C3.56624 20.0051 3.82568 20.002 4.10704 19.9764C4.65929 19.9262 5.36163 19.7832 5.97928 19.4375C6.82839 18.9623 7.34755 18.4837 7.67408 18.1827L7.67592 18.181C7.7286 18.1324 7.77146 18.093 7.80917 18.0592ZM7.80917 18.0592C7.72642 18.0423 7.64405 18.0245 7.56207 18.0057C7.68737 18.0344 7.79305 18.0151 7.85667 17.9937C7.8932 17.9813 7.9163 17.9683 7.92336 17.964L7.92167 17.9651C7.90956 17.9736 7.88456 17.9929 7.83908 18.0327L7.80917 18.0592ZM3.5569 15.9997C3.5671 16.0153 3.59479 16.0511 3.64911 16.0908C3.62297 16.0717 3.59695 16.0525 3.57104 16.0332C3.56506 16.0173 3.56019 16.0064 3.5569 15.9997ZM3.5569 15.9997C3.55354 15.9946 3.55208 15.9916 3.55219 15.9914C3.55188 15.991 3.55222 15.9914 3.55219 15.9914C3.55244 15.9918 3.55329 15.9929 3.55371 15.9937L3.5569 15.9997ZM3.25658 18.4987L3.26031 18.4996C3.25773 18.499 3.25653 18.4987 3.25658 18.4987Z",fill:null!==(o=e.fill)&&void 0!==o?o:"white"})]})}),c=s.forwardRef((e,t)=>{var n,i;return(0,r.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",...e,style:{transform:(e=>{switch(e){case"left":return"rotate(90deg)";case"right":return"rotate(-90deg)";case"top":return"rotate(180deg)";case"bottom":return"rotate(-180deg)";default:return"rotate(0deg)"}})(e.direction),...e.style},children:(0,r.jsx)("path",{d:"M10.9495 3.18439C11.1856 2.94276 11.5733 2.93799 11.8153 3.17372C12.0573 3.40946 12.0621 3.79644 11.826 4.03807L6.74071 9.24185C6.41006 9.5802 5.86725 9.58681 5.52844 9.25661L0.184571 4.04861C-0.0573886 3.8128 -0.0620587 3.42582 0.17414 3.18426C0.410338 2.9427 0.797962 2.93804 1.03992 3.17385L6.12085 8.12559L10.9495 3.18439Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#A0A0B3",stroke:null!==(i=e.fill)&&void 0!==i?i:"#A0A0B3",strokeWidth:"0.3"})})}),u=s.forwardRef((e,t)=>{var n,i,a,l;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"27",height:"20",viewBox:"0 0 27 20",fill:"none",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3114 4.5C21.3114 6.98528 19.3163 9 16.8552 9C14.3941 9 12.399 6.98528 12.399 4.5C12.399 2.01472 14.3941 0 16.8552 0C19.3163 0 21.3114 2.01472 21.3114 4.5ZM19.826 4.5C19.826 6.15685 18.4959 7.5 16.8552 7.5C15.2145 7.5 13.8844 6.15685 13.8844 4.5C13.8844 2.84315 15.2145 1.5 16.8552 1.5C18.4959 1.5 19.826 2.84315 19.826 4.5Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#A0A0B3"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8049 5C11.8049 7.20914 10.0315 9 7.84389 9C5.65627 9 3.88286 7.20914 3.88286 5C3.88286 2.79086 5.65627 1 7.84389 1C10.0315 1 11.8049 2.79086 11.8049 5ZM10.3195 5C10.3195 6.38071 9.21115 7.5 7.84389 7.5C6.47663 7.5 5.36824 6.38071 5.36824 5C5.36824 3.61929 6.47663 2.5 7.84389 2.5C9.21115 2.5 10.3195 3.61929 10.3195 5Z",fill:null!==(i=e.fill)&&void 0!==i?i:"#A0A0B3"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.1064 16.5897C24.7712 13.6923 22.0506 10 16.8552 10C11.6598 10 8.93919 13.6923 7.60405 16.5897C6.81973 18.2917 8.17479 20 10.0338 20H23.6766C25.5356 20 26.8907 18.2917 26.1064 16.5897ZM24.7597 17.2225C23.5182 14.5284 21.1864 11.5 16.8552 11.5C12.5241 11.5 10.1922 14.5284 8.95077 17.2225C8.80102 17.5475 8.85457 17.8148 9.01787 18.0356C9.20027 18.2823 9.55545 18.5 10.0338 18.5H23.6766C24.155 18.5 24.5101 18.2823 24.6925 18.0356C24.8558 17.8148 24.9094 17.5475 24.7597 17.2225Z",fill:null!==(a=e.fill)&&void 0!==a?a:"#A0A0B3"}),(0,r.jsx)("path",{d:"M7.94287 10C8.45778 10 8.85408 10.0342 9.13711 10.0728C9.46307 10.1172 9.67826 10.4023 9.67826 10.7313C9.67826 11.2327 9.19761 11.5962 8.69928 11.541C8.45624 11.5141 8.20422 11.5 7.94287 11.5C4.88897 11.5 3.12671 13.4009 2.08419 15.339C1.92917 15.6272 1.97071 15.8501 2.11271 16.0465C2.28055 16.2786 2.62974 16.5 3.10982 16.5H5.27356C5.68777 16.5 6.02356 16.8358 6.02356 17.25C6.02356 17.6642 5.68777 18 5.27356 18H3.10982C1.24819 18 -0.109649 16.275 0.77894 14.623C1.95395 12.4386 4.12145 10 7.94287 10Z",fill:null!==(l=e.fill)&&void 0!==l?l:"#A0A0B3"})]})});var p=n(3657),h=n(1355);let x=s.forwardRef((e,t)=>{var n,i,a;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M0 4.44449C0 3.83084 0.497461 3.33337 1.11111 3.33337H18.8889C19.5025 3.33337 20 3.83084 20 4.44449C20 5.05813 19.5025 5.5556 18.8889 5.5556H1.11111C0.497462 5.5556 0 5.05813 0 4.44449Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#0E0E0E"}),(0,r.jsx)("path",{d:"M0 15.5556C0 14.9419 0.497461 14.4445 1.11111 14.4445H18.8889C19.5025 14.4445 20 14.9419 20 15.5556C20 16.1692 19.5025 16.6667 18.8889 16.6667H1.11111C0.497462 16.6667 0 16.1692 0 15.5556Z",fill:null!==(i=e.fill)&&void 0!==i?i:"#0E0E0E"}),(0,r.jsx)("path",{d:"M1.11111 8.88893C0.497461 8.88893 0 9.38639 0 10C0 10.6137 0.497462 11.1112 1.11111 11.1112H18.8889C19.5025 11.1112 20 10.6137 20 10C20 9.38639 19.5025 8.88893 18.8889 8.88893H1.11111Z",fill:null!==(a=e.fill)&&void 0!==a?a:"#0E0E0E"})]})}),w=s.forwardRef((e,t)=>(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M17.3642 6.34623C17.7755 6.59756 17.9051 7.13472 17.6538 7.54599L11.6538 17.3642C11.509 17.6011 11.26 17.755 10.9833 17.7787C10.7066 17.8023 10.4352 17.6928 10.2523 17.4838L6.43411 13.1202C6.11672 12.7574 6.15348 12.2061 6.51621 11.8887C6.87895 11.5713 7.43031 11.608 7.7477 11.9708L10.7838 15.4405L16.1644 6.63583C16.4157 6.22455 16.9529 6.09489 17.3642 6.34623Z",fill:"#fff",stroke:"#fff",strokeWidth:"0.6"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM17.6538 7.54599C17.9051 7.13472 17.7755 6.59756 17.3642 6.34623C16.9529 6.09489 16.4157 6.22455 16.1644 6.63583L10.7838 15.4405L7.7477 11.9708C7.43031 11.608 6.87895 11.5713 6.51621 11.8887C6.15348 12.2061 6.11672 12.7574 6.43411 13.1202L10.2523 17.4838C10.4352 17.6928 10.7066 17.8023 10.9833 17.7787C11.26 17.755 11.509 17.6011 11.6538 17.3642L17.6538 7.54599Z",fill:"#30D158"})]}));var g=n(8726);let f={style:{color:"#fff",background:"#333",borderRadius:"10px"}},C=()=>{let[e,t]=s.useState(!1);return(0,s.useEffect)(()=>{let n;return e&&(n=setTimeout(()=>{t(!1)},1e3)),()=>{n&&clearTimeout(n)}},[e]),{toast:(n,i)=>{switch(e){case!1:return t(!0),(0,g.ZP)(n,{...f,...i});case!0:return()=>{}}},errorToast:(n,i)=>{switch(e){case!1:return t(!0),g.ZP.error(n,{...f,...i});case!0:return()=>{}}},successToast:(n,i)=>{switch(e){case!1:return t(!0),g.ZP.success(n,{...f,...i});case!0:return()=>{}}}}};var v=n(1531);let k=s.forwardRef((e,t)=>{var n;let{label:i,copyValue:a,onCopyLabel:l,...o}=e,{successToast:s}=C();return(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:10,children:[i&&(0,r.jsx)(h.Z.Text,{text:i,type:"secondary",weight:450}),(0,r.jsx)(v.k,{ref:t,width:"100%",align:"center",radius:"16px",padding:"10px 16px",bg:"var(--secondaryBg)",...o,style:{minHeight:null!==(n=e.height)&&void 0!==n?n:"60px"},onClick:()=>{a&&(navigator.clipboard.writeText(a),s(null!=l?l:"Copied",{icon:(0,r.jsx)(w,{width:21,height:21})})),o.onClick&&o.onClick()}})]})});var m=n(1444);let j=()=>{let e=(0,m.I0)(),t=async()=>{e(p.fw.addWindow({window:p.oL.Referral}))},n=async()=>{e(p.fw.addWindow({window:p.oL.TransactionsHistory}))};return(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsx)(k,{width:"100%",padding:"12px 16px",onClick:n,children:(0,r.jsxs)(v.k,{width:"100%",align:"center",gap:12,children:[(0,r.jsx)(v.k,{width:"40px",height:"35px",align:"center",justify:"center",radius:"8px",bg:"var(--bg)",children:(0,r.jsx)(x,{})}),(0,r.jsx)(h.Z.Text,{text:"Transactions History",align:"left",fontSize:16,weight:450,block:!0}),(0,r.jsx)(c,{direction:"right",width:17,height:21})]})}),(0,r.jsx)(k,{width:"100%",padding:"12px 16px",onClick:t,children:(0,r.jsxs)(v.k,{width:"100%",align:"center",gap:12,children:[(0,r.jsx)(v.k,{width:"40px",height:"35px",align:"center",justify:"center",radius:"8px",bg:"var(--accent)",children:(0,r.jsx)(u,{width:21,height:21,fill:"white"})}),(0,r.jsx)(h.Z.Text,{text:"Referal program",align:"left",fontSize:16,weight:450,block:!0}),(0,r.jsx)(c,{direction:"right",width:17,height:21})]})}),(0,r.jsx)(k,{width:"100%",padding:"12px 16px",children:(0,r.jsxs)(v.k,{width:"100%",align:"center",gap:12,children:[(0,r.jsx)(v.k,{width:"40px",height:"35px",align:"center",justify:"center",radius:"8px",bg:"var(--yellow)",children:(0,r.jsx)(d,{width:20,height:20,fill:"white"})}),(0,r.jsx)(h.Z.Text,{text:"Contact support",align:"left",fontSize:16,weight:450,block:!0}),(0,r.jsx)(c,{direction:"right",width:17,height:21})]})})]})};var y=n(4015);y.Zc.ETH,y.Zc.BSC,y.Zc.SOL,y.Zc.TON;let _={[y.Zc.ETH]:"ETH",[y.Zc.BSC]:"BSC",[y.Zc.SOL]:"SOL",[y.Zc.TON]:"TON"};var b=n(6974),T=n(3082),S=n(875),W=n(3055);let L="https://crypto-swap-test.ru",Z={[y.Zc.ETH]:b.default,[y.Zc.BSC]:S.default,[y.Zc.SOL]:T.default,[y.Zc.TON]:W.default},B={[y.Zc.ETH]:"".concat(L,"/_next/static/media/ETHCircleIcon.299d64ea.svg"),[y.Zc.BSC]:"".concat(L,"/_next/static/media/BSCCircleIcon.5333c467.svg"),[y.Zc.SOL]:"".concat(L,"/_next/static/media/SOLCircleIcon.da97ea57.svg"),[y.Zc.TON]:"".concat(L,"/_next/static/media/TONCircleIcon.3e8e17a7.svg")};var N=n(6463),A=n(4933),I=n.n(A),F=n(6800),O=n.n(F);let M=e=>{var t;let n=(0,N.useRouter)(),i={[I().block]:e.block,[I().disabled]:e.disabled,[I()[null!==(t=e.type)&&void 0!==t?t:"default"]]:!0},a={width:e.width,height:e.height,padding:e.padding,minHeight:e.height,flexDirection:e.direction,...e.style};return(0,r.jsxs)("button",{type:e.htmlType,style:a,onClick:()=>{e.onClick&&e.onClick(),e.href&&n.push(e.href)},disabled:e.disabled,className:O()(I().button,e.className,i),children:[e.icon&&e.icon,e.text?e.text:e.children]})};var D=n(6648);let E=e=>{let t=(0,m.I0)(),n=(0,m.v9)(y.KR),i=async()=>{t(p.fw.addWindow({window:p.oL.Networks}))};return(0,r.jsxs)(M,{width:"fit-content",height:40,onClick:i,type:"inline",style:e.style,children:[(0,r.jsx)(D.default,{width:24,height:24,src:Z[null!=n?n:y.Zc.ETH],alt:"network-icon"}),(0,r.jsx)(h.Z.Text,{text:_[null!=n?n:y.Zc.ETH],weight:550})]})},P=()=>{let e=(0,m.I0)(),t=async()=>{e(p.fw.addWindow({window:p.oL.WalletsList}))},n=async()=>{e(p.fw.addWindow({window:p.oL.Referral}))};return(0,r.jsxs)(v.k,{width:"100%",align:"center",justify:"space-between",children:[(0,r.jsx)(M,{height:40,onClick:n,type:"inline",children:(0,r.jsx)(u,{width:20,height:20,fill:"var(--text)"})}),(0,r.jsxs)(v.k,{gap:6,align:"center",children:[(0,r.jsxs)(M,{height:40,onClick:t,type:"inline",children:[(0,r.jsx)(h.Z.Text,{text:"Wallet",align:"left",weight:550}),(0,r.jsx)(c,{direction:"right"})]}),(0,r.jsx)(E,{})]})]})},R=async()=>{let e=(await n.e(904).then(n.bind(n,1904))).default;if(e)return e};var H=n(4832),z=n(7833);(i=l||(l={})).USER="USER",i.ADMIN="ADMIN",(a=o||(o={})).ACTIVE="ACTIVE",a.INACTIVE="INACTIVE",a.BANNED="BANNED";var V=n(1101);let K=V.h.injectEndpoints({endpoints:e=>({getUser:e.query({query:e=>({url:"/users/profile",params:e})})})});V.h.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"/auth/sign-up",method:"POST",body:e})})})});var q=n(2649);let Q=()=>{let e=(0,m.I0)(),{errorToast:t,successToast:n}=C(),[i,a]=(0,s.useState)(),[l]=z.fK.useLazyGetWalletQuery(),[o,r]=(0,s.useState)(!1),d=(0,m.v9)(p.bt),c=(0,m.v9)(y.KR),u=(0,m.v9)(y.wR),h=(0,m.v9)(p.k7),x=(0,m.v9)(y.Vc),{data:w,...g}=K.useGetUserQuery(i,{skip:!i}),[f,v]=z.fK.useLazyGetWalletsQuery(),[k]=z.fK.useDeleteWalletTokenMutation(),j=async e=>{if(u)try{(await k({wallet_id:u.id,token_id:e.id}).unwrap()).ok?(n("Token deleted"),f()):t("Failed to delete token")}catch(e){console.error("Error deleting token:",e),t("Failed to delete token")}},_=async()=>{let t=await f().unwrap();if(!t.data)return;e(y.vB.setWallets(t.data));let n=q.Z.get(H.nV),i=null!=u?u:t.data.find(e=>e.id===n),a=null!=c?c:q.Z.get(H.Ac);i||(n?await l(n):await l(t.data[0].id)),i&&a&&(l(i.id),i.network!==a?e(y.vB.setSelectedNetwork(i.network)):e(y.vB.setSelectedNetwork(a)))},b=async()=>{let e=await R();e&&(e.ready(),e.expand(),e.BackButton.onClick(S),e.setHeaderColor("#F4F7FA"),e.setBackgroundColor("#F4F7FA"))},T=async e=>{let t=await R();t&&(e.length>0?t.BackButton.show():t.BackButton.hide())},S=async()=>{e(p.fw.removeLastWindow())},W=async()=>{var e,t,n,i,l,o,r;let s=await R();s&&(null==s?void 0:null===(t=s.initDataUnsafe)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.id)&&(q.Z.set(H.bq,"".concat(null==s?void 0:null===(n=s.initDataUnsafe.user)||void 0===n?void 0:n.id)),a({telegram_id:String(null==s?void 0:null===(i=s.initDataUnsafe.user)||void 0===i?void 0:i.id),username:String(null==s?void 0:null===(l=s.initDataUnsafe.user)||void 0===l?void 0:l.username),language_code:String(null!==(r=null==s?void 0:null===(o=s.initDataUnsafe.user)||void 0===o?void 0:o.language_code)&&void 0!==r?r:"en")}))};return(0,s.useEffect)(()=>{r(!!q.Z.get(H.bq))},[]),(0,s.useEffect)(()=>{g.isLoading||_()},[g.isLoading]),(0,s.useEffect)(()=>{b(),W()},[]),(0,s.useEffect)(()=>{T(h)},[h]),{flow:{handleBackButtonClick:S,handleDeleteToken:j},state:{isLoading:g.isLoading||v.isLoading||x||d,selectedWallet:u,selectedNetwork:c}}},G=s.forwardRef((e,t)=>{var n;return(0,r.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 12C0.5 5.37258 5.87258 0 12.5 0C19.1274 0 24.5 5.37258 24.5 12C24.5 18.6274 19.1274 24 12.5 24C5.87258 24 0.5 18.6274 0.5 12ZM12.5012 5.6391C13.0244 5.6391 13.4486 6.06325 13.4486 6.58647V11.0526H17.9148C18.438 11.0526 18.8621 11.4768 18.8621 12C18.8621 12.5232 18.438 12.9474 17.9148 12.9474H13.4486V17.4135C13.4486 17.9368 13.0244 18.3609 12.5012 18.3609C11.978 18.3609 11.5539 17.9368 11.5539 17.4135V12.9474H7.0877C6.56448 12.9474 6.14033 12.5232 6.14033 12C6.14033 11.4768 6.56448 11.0526 7.0877 11.0526H11.5539V6.58647C11.5539 6.06325 11.978 5.6391 12.5012 5.6391Z",fill:null!==(n=e.fill)&&void 0!==n?n:"var(--accent)"})})});var U=n(6234),$=n(6744),X=n.n($),Y=n(4635),J=n(4446);let ee=()=>{var e;let t=(0,m.I0)(),{flow:n,state:i}=Q(),[a,l]=(0,s.useState)(!0),o=(0,m.v9)(y.wR),d=async()=>{t(p.fw.addWindow({window:p.oL.AddToken}))};return(0,s.useEffect)(()=>{},[o]),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsx)(Y.E.div,{initial:{height:132},animate:{height:a?132:"auto"},className:X().tokens_list,children:(0,r.jsx)(J.M,{children:(null==o?void 0:o.tokens)&&o.tokens.map(e=>(0,r.jsx)(Y.E.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,r.jsx)(U.WalletPageToken,{token:e,onDeleteToken:n.handleDeleteToken})},e.id))})}),(null==o?void 0:o.tokens)&&(null===(e=o.tokens)||void 0===e?void 0:e.length)>2&&(0,r.jsxs)(M,{type:"text",onClick:()=>{setTimeout(()=>l(e=>!e),window.scrollY>0?250:0)},children:[(0,r.jsx)(h.Z.Text,{text:a?"Show more":"Show less",type:"secondary",weight:400,fontSize:16}),(0,r.jsx)(c,{style:{transform:a?"rotate(0deg)":"rotate(180deg)"}})]}),(0,r.jsxs)(M,{type:"primary",height:50,className:X().add_token_btn,onClick:d,children:[(0,r.jsx)(G,{width:17,height:17,fill:"white"}),(0,r.jsx)(h.Z.Text,{text:"Add token",color:"white",fontSize:17})]})]})},et=s.forwardRef((e,t)=>{var n,i;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M3.16143 1.66667C3.00725 1.66666 2.85925 1.66666 2.71765 1.66742C2.74941 1.43999 2.80097 1.25626 2.88466 1.09202C3.07641 0.715695 3.38237 0.409734 3.75869 0.217987C4.18651 0 4.74657 0 5.86667 0H8.8C9.92011 0 10.4802 0 10.908 0.217987C11.2843 0.409734 11.5903 0.715695 11.782 1.09202C12 1.51984 12 2.0799 12 3.2V6.13333C12 7.25344 12 7.81349 11.782 8.24131C11.5903 8.61764 11.2843 8.9236 10.908 9.11535C10.7437 9.19903 10.56 9.25059 10.3326 9.28236C10.3333 9.14078 10.3333 8.99281 10.3333 8.83866V5.82813C10.3334 5.30098 10.3334 4.84621 10.3028 4.47164C10.2705 4.0763 10.1991 3.68308 10.0064 3.3047C9.71874 2.74021 9.25979 2.28127 8.69531 1.99365C8.31693 1.80085 7.92371 1.72954 7.52837 1.69724C7.15379 1.66663 6.69903 1.66665 6.17188 1.66667H3.16143Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#848A90"}),(0,r.jsx)("path",{d:"M0.217987 3.75869C0 4.18651 0 4.74656 0 5.86667V8.8C0 9.9201 0 10.4802 0.217987 10.908C0.409733 11.2843 0.715694 11.5903 1.09202 11.782C1.51984 12 2.07989 12 3.2 12H6.13333C7.25343 12 7.81349 12 8.24131 11.782C8.61763 11.5903 8.92359 11.2843 9.11534 10.908C9.33333 10.4802 9.33333 9.9201 9.33333 8.8V5.86667C9.33333 4.74656 9.33333 4.18651 9.11534 3.75869C8.92359 3.38236 8.61763 3.0764 8.24131 2.88465C7.81349 2.66667 7.25343 2.66667 6.13333 2.66667H3.2C2.07989 2.66667 1.51984 2.66667 1.09202 2.88465C0.715694 3.0764 0.409733 3.38236 0.217987 3.75869Z",fill:null!==(i=e.fill)&&void 0!==i?i:"#848A90"})]})}),en=s.forwardRef((e,t)=>{var n;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 24C19.1274 24 24.5 18.6274 24.5 12C24.5 5.37258 19.1274 0 12.5 0C5.87258 0 0.5 5.37258 0.5 12C0.5 18.6274 5.87258 24 12.5 24ZM16.2465 12.0717C16.5873 12.4125 17.1399 12.4125 17.4807 12.0717C17.8216 11.7308 17.8216 11.1783 17.4807 10.8374L13.1171 6.4738C12.7763 6.13298 12.2237 6.13298 11.8829 6.4738L7.51925 10.8374C7.17843 11.1783 7.17843 11.7308 7.51925 12.0717C7.86007 12.4125 8.41265 12.4125 8.75348 12.0717L11.6273 9.19786V17.4545C11.6273 17.9365 12.018 18.3273 12.5 18.3273C12.982 18.3273 13.3727 17.9365 13.3727 17.4545V9.19786L16.2465 12.0717Z",fill:null!==(n=e.fill)&&void 0!==n?n:"var(--accent)"}),(0,r.jsx)("path",{d:"M17.4807 12.0717C17.1399 12.4125 16.5873 12.4125 16.2465 12.0717L13.3727 9.19786V17.4545C13.3727 17.9365 12.982 18.3273 12.5 18.3273C12.018 18.3273 11.6273 17.9365 11.6273 17.4545V9.19786L8.75348 12.0717C8.41265 12.4125 7.86007 12.4125 7.51925 12.0717C7.17843 11.7308 7.17843 11.1783 7.51925 10.8374L11.8829 6.4738C12.2237 6.13298 12.7763 6.13298 13.1171 6.4738L17.4807 10.8374C17.8216 11.1783 17.8216 11.7308 17.4807 12.0717Z",fill:"#9B6060",fillOpacity:"0.05"})]})}),ei=s.forwardRef((e,t)=>{var n;return(0,r.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5 12C24.5 18.6274 19.1274 24 12.5 24C5.87258 24 0.5 18.6274 0.5 12C0.5 5.37258 5.87258 0 12.5 0C19.1274 0 24.5 5.37258 24.5 12ZM4.24653 13.0193C4.58735 12.6784 5.13993 12.6784 5.48075 13.0193L7.26364 14.8021V7.09091C7.26364 6.60892 7.65437 6.21818 8.13636 6.21818C8.61836 6.21818 9.00909 6.60892 9.00909 7.09091V14.8021L10.792 13.0193C11.1328 12.6784 11.6854 12.6784 12.0262 13.0193C12.367 13.3601 12.367 13.9127 12.0262 14.2535L8.75348 17.5262C8.41265 17.867 7.86007 17.867 7.51925 17.5262L4.24653 14.2535C3.9057 13.9127 3.9057 13.3601 4.24653 13.0193ZM19.5193 10.9807C19.8601 11.3216 20.4127 11.3216 20.7535 10.9807C21.0943 10.6399 21.0943 10.0873 20.7535 9.74653L17.4807 6.4738C17.1399 6.13298 16.5873 6.13298 16.2465 6.4738L12.9738 9.74653C12.633 10.0873 12.633 10.6399 12.9738 10.9807C13.3146 11.3216 13.8672 11.3216 14.208 10.9807L15.9909 9.19786V16.9091C15.9909 17.3911 16.3816 17.7818 16.8636 17.7818C17.3456 17.7818 17.7364 17.3911 17.7364 16.9091V9.19786L19.5193 10.9807Z",fill:null!==(n=e.fill)&&void 0!==n?n:"var(--accent)"})})});var ea=n(1779),el=n.n(ea),eo=e=>{let{center:t=!1,size:n="lg",className:i,...a}=e;return(0,r.jsxs)("div",{className:O()(el().spinner,{[el().center]:t},i),style:{transform:"scale(".concat("md"===n?.8:1,")")},children:[(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})}),(0,r.jsx)("span",{className:O()(el().spinner_blade,{[el().black]:"black"===a.theme})})]})};let er=()=>{var e,t,n;let i=(0,m.I0)(),{successToast:a}=C(),l=(0,m.v9)(y.wR),o=y.fK.endpoints.getWallets.useQueryState().isLoading,s=async()=>{i(p.fw.addWindow({window:p.oL.Swap}))},d=async()=>{i(p.fw.addWindow({window:p.oL.Deposit}))},c=async()=>{i(p.fw.addWindow({window:p.oL.Transfer}))};return(0,r.jsxs)(v.k,{direction:"column",gap:24,children:[(0,r.jsxs)(v.k,{direction:"column",align:"center",justify:"center",gap:8,children:[(0,r.jsxs)(v.k,{align:"center",height:"25px",children:[(0,r.jsx)(h.Z.Text,{text:"Total Balance",fontSize:16}),(0,r.jsx)(J.M,{children:o&&(0,r.jsx)(Y.E.div,{exit:{width:0,opacity:0,paddingLeft:0},animate:{width:30.6,opacity:1,paddingLeft:"9px"},initial:{width:0,opacity:0,paddingLeft:0},transition:{ease:[.32,.72,0,1],duration:.6},children:(0,r.jsx)(eo,{size:"md"})})})]}),(0,r.jsxs)(v.k,{align:"center",gap:8,children:[(0,r.jsx)(h.Z.Text,{text:"$",fontFamily:"ClashDisplay-Bold",type:"secondary",fontSize:40}),(0,r.jsx)(h.Z.Text,{text:(null!==(e=null==l?void 0:l.balance_usd)&&void 0!==e?e:0).toFixed(2),fontFamily:"ClashDisplay-Bold",fontSize:40})]}),(0,r.jsxs)(v.k,{align:"center",gap:8,onClick:()=>{var e;navigator.clipboard.writeText(null!==(e=null==l?void 0:l.address)&&void 0!==e?e:""),a("Copied",{icon:(0,r.jsx)(w,{width:21,height:21})})},children:[(0,r.jsx)(h.Z.Text,{text:"".concat(null!==(t=null==l?void 0:l.address.slice(0,4))&&void 0!==t?t:".","...").concat(null!==(n=null==l?void 0:l.address.slice(-4))&&void 0!==n?n:"."),fontSize:16,type:"secondary"}),(0,r.jsx)(et,{})]})]}),(0,r.jsxs)(v.k,{gap:8,align:"center",justify:"center",children:[(0,r.jsxs)(M,{width:100,padding:"12px 8px",direction:"column",onClick:d,children:[(0,r.jsx)(G,{}),(0,r.jsx)(h.Z.Text,{text:"Deposit",weight:"450",color:"var(--accent)",fontSize:14})]}),(0,r.jsxs)(M,{width:100,padding:"12px 8px",direction:"column",onClick:c,children:[(0,r.jsx)(en,{}),(0,r.jsx)(h.Z.Text,{text:"Send",weight:"450",color:"var(--accent)",fontSize:14})]}),(0,r.jsxs)(M,{width:100,padding:"12px 8px",direction:"column",onClick:s,children:[(0,r.jsx)(ei,{}),(0,r.jsx)(h.Z.Text,{text:"Swap",weight:"450",color:"var(--accent)",fontSize:14})]})]})]})};var es=n(6537),ed=n.n(es);let ec=e=>{let{children:t,className:n}=e,i=(0,m.v9)(y.Vc),a=(0,m.v9)(p.bt),l=(0,m.v9)(p.k7),o=s.useRef(null),d={[ed().centered]:e.centered},c={gap:e.gap,overflow:e.overflow,flexDirection:e.direction,...e.styles};return(0,s.useEffect)(()=>{let e;if(o.current)return a||i||l.length>0?(o.current.scrollTo({top:0,left:0,behavior:"smooth"}),e=setTimeout(()=>{o.current&&(o.current.style.overflowY="hidden")},250)):o.current.style.overflowY="scroll",()=>{clearTimeout(e)}},[o,a,i,l]),(0,r.jsx)("main",{ref:o,style:c,className:O()(ed().page,n,d),children:t})},eu=(e,t)=>{switch(t){case y.Zc.ETH:return"https://etherscan.io/tx/".concat(e);case y.Zc.BSC:return"https://bscscan.com/tx/".concat(e);case y.Zc.SOL:return"https://solscan.io/tx/".concat(e);case y.Zc.TON:return"https://tonviewer.com/transaction/".concat(e)}};var ep=n(9053),eh=n.n(ep);let ex=()=>{var e;let t=(0,m.v9)(p.eb)(p.oL.TransactionDetails),n=null===(e=(0,m.v9)(p.lB)(p.oL.TransactionDetails))||void 0===e?void 0:e.payload,i=eh().tz(null==n?void 0:n.created_at,"UTC").tz(eh().tz.guess());return{flow:{handleOpenTransactionExplorer:async()=>{let e=await R();e&&e.openLink(eu(n.hash,n.network))}},state:{transaction:n,isWindowOpen:t&&!!n,createdAtLocalTime:i}}},ew=()=>{var e;let{errorToast:t}=C(),n=(0,m.v9)(p.eb)(p.oL.TransactionsHistory),i=(0,m.v9)(y.wR),{data:a,isLoading:l,isError:o}=y.fK.useGetWalletTransactionsQuery({id:"".concat(null==i?void 0:i.id)},{skip:!i||!n});return(0,s.useEffect)(()=>{o&&t("Failed to get transactions history")},[o]),{flow:{},state:{isLoading:l,isWindowOpen:n,transactions:null!==(e=null==a?void 0:a.data)&&void 0!==e?e:[]}}},eg=e=>(0,r.jsxs)(v.k,{width:"100%",align:"center",justify:"center",direction:"column",padding:"16px 16px 32px",gap:4,children:[(0,r.jsxs)(v.k,{width:"100%",align:"center",justify:"center",height:"24px",children:["string"==typeof e.title?(0,r.jsx)(h.Z.Title,{text:e.title,fontSize:20,weight:600,blockAlign:"center"}):e.title,(0,r.jsx)(J.M,{children:e.isLoading&&(0,r.jsx)(Y.E.div,{exit:{width:0,opacity:0,paddingLeft:0},animate:{width:30.6,opacity:1,paddingLeft:"9px"},initial:{width:0,opacity:0,paddingLeft:0},transition:{ease:[.32,.72,0,1],duration:.6},children:(0,r.jsx)(eo,{size:"md"})})})]}),e.description&&(0,r.jsx)(h.Z.Text,{text:e.description,type:e.descriptionType,align:"center",fontSize:16,weight:400})]});var ef=n(389),eC=n.n(ef);let ev=e=>{var t;let{isOpen:n,setIsOpen:i,...a}=e,l={[eC().danger]:"danger"===a.btnType,[eC().disabled]:a.isBtnDisabled};return(0,r.jsx)(J.M,{children:n&&(0,r.jsx)(Y.E.div,{className:O()(eC().window_wrapper,{[eC().scrollable]:a.isScrollable}),style:{zIndex:a.zIndex,paddingTop:a.paddingTop,borderRadius:a.wrapperBorderRadius},children:(0,r.jsxs)(Y.E.div,{exit:{transform:"translate(100%, 0)",boxShadow:"none"},animate:{transform:"translate(0, 0)",boxShadow:"0 0 64px 0 rgba(0, 0, 0, 0.06)"},initial:{transform:"translate(100%, 0)",boxShadow:"none"},transition:{ease:[.32,.72,0,1],duration:.5},className:O()(eC().window),style:{height:a.height,background:a.bg,borderRadius:a.borderRadius},onScroll:a.onScroll,children:[(0,r.jsx)(v.k,{className:eC().content,style:{height:a.isBtnActive?"calc(100% - 90.5px)":"100%"},children:a.children}),a.isBtnActive&&(0,r.jsx)(v.k,{className:eC().footer,children:(0,r.jsxs)(v.k,{className:O()(eC().footer_btn,l),onClick:a.btnOnClick,children:[a.btnIcon&&a.btnIcon,null!==(t=a.btnText)&&void 0!==t?t:"Label"]})})]})})})},ek={[y.iU.SWAP]:"Swap",[y.iU.DEPOSIT]:"Deposit",[y.iU.TRANSFER]:"Transfer"},em={[y.iU.SWAP]:(0,r.jsx)(e=>{let{width:t=24,height:n=24,fill:i="currentColor"}=e;return(0,r.jsx)("svg",{width:t,height:n,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.5 12C24.5 18.6274 19.1274 24 12.5 24C5.87258 24 0.5 18.6274 0.5 12C0.5 5.37258 5.87258 0 12.5 0C19.1274 0 24.5 5.37258 24.5 12ZM4.24653 13.0193C4.58735 12.6784 5.13993 12.6784 5.48075 13.0193L7.26364 14.8021V7.09091C7.26364 6.60892 7.65437 6.21818 8.13636 6.21818C8.61836 6.21818 9.00909 6.60892 9.00909 7.09091V14.8021L10.792 13.0193C11.1328 12.6784 11.6854 12.6784 12.0262 13.0193C12.367 13.3601 12.367 13.9127 12.0262 14.2535L8.75348 17.5262C8.41265 17.867 7.86007 17.867 7.51925 17.5262L4.24653 14.2535C3.9057 13.9127 3.9057 13.3601 4.24653 13.0193ZM19.5193 10.9807C19.8601 11.3216 20.4127 11.3216 20.7535 10.9807C21.0943 10.6399 21.0943 10.0873 20.7535 9.74653L17.4807 6.4738C17.1399 6.13298 16.5873 6.13298 16.2465 6.4738L12.9738 9.74653C12.633 10.0873 12.633 10.6399 12.9738 10.9807C13.3146 11.3216 13.8672 11.3216 14.208 10.9807L15.9909 9.19786V16.9091C15.9909 17.3911 16.3816 17.7818 16.8636 17.7818C17.3456 17.7818 17.7364 17.3911 17.7364 16.9091V9.19786L19.5193 10.9807Z",fill:"#A0A0B3"})})},{width:24,height:24}),[y.iU.DEPOSIT]:(0,r.jsx)(en,{width:24,height:24,style:{rotate:"180deg"}}),[y.iU.TRANSFER]:(0,r.jsx)(en,{width:24,height:24,fill:"var(--secondaryText)"})},ej=e=>{let{transaction:t}=e,n=(0,m.I0)(),i=eh().tz(t.created_at,"UTC").tz(eh().tz.guess());return(0,r.jsxs)(k,{justify:"space-between",onClick:()=>{n(p.fw.addWindow({window:p.oL.TransactionDetails,payload:t}))},children:[(0,r.jsxs)(v.k,{align:"center",gap:12,children:[em[t.type],(0,r.jsxs)(v.k,{direction:"column",children:[(0,r.jsx)(h.Z.Text,{text:ek[t.type],fontSize:16,weight:550}),(0,r.jsx)(h.Z.Text,{text:i.format("D MMMM, HH:mm"),type:"secondary"})]})]}),(0,r.jsx)(v.k,{direction:"column",children:t.type===y.iU.SWAP&&t.fromCurrency&&t.toCurrency?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z.Text,{text:"".concat(t.amount.toFixed(2)," ").concat(t.fromCurrency," -> ").concat(t.toCurrency),fontSize:16,weight:550,align:"right"}),(0,r.jsx)(h.Z.Text,{text:"≈ ".concat(t.amount_usd.toFixed(2)," $"),type:"secondary",align:"right"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z.Text,{text:"".concat(t.amount.toFixed(2)," ").concat(t.currency||t.fromCurrency||""),fontSize:16,weight:550,align:"right"}),(0,r.jsx)(h.Z.Text,{text:"≈ ".concat(t.amount_usd.toFixed(2)," $"),type:"secondary",align:"right"})]})})]})},ey=()=>{let{state:e}=ew();return(0,r.jsxs)(ev,{isOpen:e.isWindowOpen,children:[(0,r.jsx)(eg,{title:"Transactions history",isLoading:e.isLoading}),(0,r.jsx)(v.k,{direction:"column",gap:12,children:e.transactions.map(e=>(0,r.jsx)(ej,{transaction:e},e.id))})]})};var e_=n(7679),eb=n.n(e_);let eT=e=>{let t={width:e.width,border:e.border,margin:e.margin};return(0,r.jsx)("div",{style:t,className:O()(eb().divider,e.className)})},eS={[y.LN.FAILED]:"Failed",[y.LN.PENDING]:"Pending",[y.LN.SUCCESS]:"Success"},eW={[y.LN.FAILED]:"var(--red)",[y.LN.PENDING]:"var(--yellow)",[y.LN.SUCCESS]:"var(--green)"},eL=()=>{var e,t,n,i,a,l,o,s,d,c,u,p,x,w,g,f,C,m,j,b,T,S,W,L;let{flow:Z,state:B}=ex(),N=(null===(e=B.transaction)||void 0===e?void 0:e.network)===y.Zc.TON&&(null===(t=B.transaction)||void 0===t?void 0:t.status)===y.LN.PENDING,A=(null===(n=B.transaction)||void 0===n?void 0:n.status)===y.LN.PENDING;return(0,r.jsx)(ev,{isOpen:B.isWindowOpen,children:(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:20,children:[(0,r.jsxs)(v.k,{width:"100%",align:"center",justify:"center",padding:"16px 16px",gap:12,children:[em[null===(i=B.transaction)||void 0===i?void 0:i.type],(0,r.jsx)(h.Z.Text,{text:ek[null===(a=B.transaction)||void 0===a?void 0:a.type],weight:600,fontSize:16})]}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:4,children:[(0,r.jsxs)(v.k,{align:"center",gap:9,children:[(0,r.jsx)(h.Z.Title,{text:null===(l=B.transaction)||void 0===l?void 0:l.amount,fontFamily:"ClashDisplay-Bold"}),(0,r.jsx)(h.Z.Title,{text:null===(o=B.transaction)||void 0===o?void 0:o.currency,fontFamily:"ClashDisplay-Bold"})]}),(0,r.jsx)(h.Z.Text,{text:B.createdAtLocalTime.format("D MMMM, HH:mm"),type:"secondary"})]}),(0,r.jsxs)(k,{direction:"column",justify:"center",padding:"16px 20px",gap:12,children:[(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"Status",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:eS[null===(s=B.transaction)||void 0===s?void 0:s.status],color:eW[null===(d=B.transaction)||void 0===d?void 0:d.status],weight:550})]}),(0,r.jsx)(eT,{}),(0,r.jsxs)(k,{justify:"space-between",padding:"0",height:17,copyValue:null===(c=B.transaction)||void 0===c?void 0:c.to,onCopyLabel:"Copied",children:[(0,r.jsx)(h.Z.Text,{text:"Recipient",type:"secondary"}),(0,r.jsxs)(v.k,{align:"center",gap:9,children:[(0,r.jsx)(h.Z.Text,{text:"".concat(null===(p=B.transaction)||void 0===p?void 0:null===(u=p.to)||void 0===u?void 0:u.slice(0,8),"...").concat(null===(w=B.transaction)||void 0===w?void 0:null===(x=w.to)||void 0===x?void 0:x.slice(-8))}),(0,r.jsx)(et,{})]})]}),(0,r.jsx)(eT,{}),(0,r.jsxs)(k,{justify:"space-between",padding:"0",height:17,copyValue:null===(g=B.transaction)||void 0===g?void 0:g.from,onCopyLabel:"Copied",children:[(0,r.jsx)(h.Z.Text,{text:"Sender",type:"secondary"}),(0,r.jsxs)(v.k,{align:"center",gap:9,children:[(0,r.jsx)(h.Z.Text,{text:"".concat(null===(C=B.transaction)||void 0===C?void 0:null===(f=C.from)||void 0===f?void 0:f.slice(0,8),"...").concat(null===(j=B.transaction)||void 0===j?void 0:null===(m=j.from)||void 0===m?void 0:m.slice(-8))}),(0,r.jsx)(et,{})]})]}),(0,r.jsx)(eT,{}),!A&&(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"Commission",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"".concat(null===(b=B.transaction)||void 0===b?void 0:b.fee.toFixed(4)," ").concat(_[null===(T=B.transaction)||void 0===T?void 0:T.network]," (").concat(null===(S=B.transaction)||void 0===S?void 0:S.fee_usd.toFixed(4)," $)")})]}),(0,r.jsx)(eT,{}),(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"Network",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"".concat(null===(W=B.transaction)||void 0===W?void 0:W.network," (").concat(_[null===(L=B.transaction)||void 0===L?void 0:L.network],")")})]})]}),!N&&(0,r.jsx)(M,{height:50,onClick:Z.handleOpenTransactionExplorer,children:(0,r.jsx)(h.Z.Text,{text:"Open in explorer",type:"secondary",color:"var(--accent)",weight:450,fontSize:16})})]})})},eZ=()=>{let e=(0,m.I0)(),{errorToast:t}=C(),[n]=y.fK.useLazyGetWalletQuery(),i=(0,m.v9)(p.bt),a=(0,m.v9)(y.wR),l=(0,m.v9)(p.aK)(p.oL.WalletsList);return{flow:{handleAddWallet:async()=>{e(p.fw.addWindow({window:p.oL.AddWallet}))},handleWalletClick:async i=>{try{let t=await n(i.id).unwrap();e(y.vB.setSelectedNetwork(i.network)),t.ok&&e(p.fw.removeWindow(p.oL.WalletsList))}catch(e){t("Failed to change wallet")}},handleOpenWalletDetailsWindow:async t=>{e(p.fw.addWindow({window:p.oL.WalletDetails,payload:{wallet:t}}))}},state:{wallets:(0,m.v9)(y.MX),isLoading:i,isWindowOpen:l,selectedWallet:a}}},eB=s.forwardRef((e,t)=>{var n,i,a;return(0,r.jsx)("svg",{ref:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("g",{id:"Icon",children:(0,r.jsxs)("g",{id:"Shape",children:[(0,r.jsx)("path",{d:"M5.11111 11.5C5.11111 12.8807 3.96695 14 2.55556 14C1.14416 14 0 12.8807 0 11.5C0 10.1193 1.14416 9 2.55556 9C3.96695 9 5.11111 10.1193 5.11111 11.5Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#A0A0B3"}),(0,r.jsx)("path",{d:"M14.0556 11.5C14.0556 12.8807 12.9114 14 11.5 14C10.0886 14 8.94444 12.8807 8.94444 11.5C8.94444 10.1193 10.0886 9 11.5 9C12.9114 9 14.0556 10.1193 14.0556 11.5Z",fill:null!==(i=e.fill)&&void 0!==i?i:"#A0A0B3"}),(0,r.jsx)("path",{d:"M20.4444 14C21.8558 14 23 12.8807 23 11.5C23 10.1193 21.8558 9 20.4444 9C19.0331 9 17.8889 10.1193 17.8889 11.5C17.8889 12.8807 19.0331 14 20.4444 14Z",fill:null!==(a=e.fill)&&void 0!==a?a:"#A0A0B3"})]})})})});var eN=n(6805),eA=n.n(eN);let eI=()=>{let{flow:e,state:t}=eZ();return(0,r.jsxs)(ev,{isOpen:t.isWindowOpen,btnText:"Add wallet",btnIcon:(0,r.jsx)(G,{width:14,height:14,fill:"white"}),btnOnClick:e.handleAddWallet,isBtnActive:!0,isBtnDisabled:t.isLoading,children:[(0,r.jsx)(eg,{title:"Choose wallet",isLoading:t.isLoading}),(0,r.jsx)(v.k,{width:"100%",direction:"column",gap:12,padding:"0 0 12px",children:t.wallets.map(n=>{var i,a,l;return(0,r.jsxs)(v.k,{className:eA().wallet,onClick:()=>e.handleWalletClick(n),children:[(null===(i=t.selectedWallet)||void 0===i?void 0:i.id)===n.id&&(0,r.jsx)(v.k,{className:eA().wallet_selected_pill}),(0,r.jsxs)(v.k,{direction:"column",gap:3,children:[(0,r.jsx)(h.Z.Text,{text:"".concat(n.name," (").concat(_[n.network],")"),fontSize:16,weight:550}),(0,r.jsx)(h.Z.Text,{text:"".concat(null!==(a=null==n?void 0:n.address.slice(0,4))&&void 0!==a?a:".","...").concat(null!==(l=null==n?void 0:n.address.slice(-4))&&void 0!==l?l:"."),type:"secondary"})]}),(0,r.jsx)(eB,{onClick:t=>{t.stopPropagation(),e.handleOpenWalletDetailsWindow(n)}})]},n.id)})})]})},eF=()=>{var e;let t=(0,m.I0)(),{errorToast:n,successToast:i}=C(),[a,l]=y.fK.useDeleteWalletMutation(),[o]=y.fK.useLazyGetWalletsQuery(),[r,d]=(0,s.useState)(!1),c=(0,m.v9)(p.lB)(p.oL.WalletDetails),u=(0,m.v9)(p.aK)(p.oL.WalletDetails),h=(0,m.v9)(p.eb)(p.oL.WalletDetails),x=null==c?void 0:null===(e=c.payload)||void 0===e?void 0:e.wallet,w=(0,m.v9)(y.MX);return{flow:{handleDeleteWallet:async()=>{try{if(!x||!w.length)return;if(d(!0),(await a({id:x.id}).unwrap()).ok){i("Wallet deleted"),o();let e=w.find(e=>e.id===x.id);e&&t(y.vB.setSelectedWallet(e)),t(p.fw.removeLastWindow())}}catch(e){n("Failed to delete wallet")}finally{d(!1)}}},state:{wallets:w,isWindowOpen:h,openedWallet:x,isWindowCurrentlyOpen:u,isLoading:r||l.isLoading,isBtnActive:u&&(null==x?void 0:x.can_deleted)}}},eO=()=>{var e,t,n,i,a,l,o,s,d;let{flow:c,state:u}=eF();return(0,r.jsxs)(ev,{isOpen:u.isWindowOpen,zIndex:5002,btnText:"Delete wallet",btnType:"danger",btnOnClick:c.handleDeleteWallet,isBtnActive:u.isBtnActive,isBtnDisabled:u.isLoading,children:[(0,r.jsx)(eg,{title:"Wallet details"}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsx)(k,{label:"Name",children:(0,r.jsx)(h.Z.Text,{text:null===(e=u.openedWallet)||void 0===e?void 0:e.name,wrap:"nowrap",fontSize:17,weight:350})}),(0,r.jsxs)(k,{gap:15,label:"Network",justify:"space-between",copyValue:"".concat(null===(t=u.openedWallet)||void 0===t?void 0:t.network," (").concat(u.openedWallet?_[null===(n=u.openedWallet)||void 0===n?void 0:n.network]:"-",")"),onCopyLabel:"Network copied",children:[(0,r.jsx)(h.Z.Text,{text:"".concat(null===(i=u.openedWallet)||void 0===i?void 0:i.network," (").concat(u.openedWallet?_[null===(a=u.openedWallet)||void 0===a?void 0:a.network]:"-",")"),wrap:"nowrap",weight:350,fontSize:17}),(0,r.jsx)(et,{width:18,height:18,fill:"var(--secondaryText)"})]}),(0,r.jsxs)(k,{label:"Address",justify:"space-between",copyValue:null===(l=u.openedWallet)||void 0===l?void 0:l.address,onCopyLabel:"Address copied",gap:15,children:[(0,r.jsx)(h.Z.Text,{text:null===(o=u.openedWallet)||void 0===o?void 0:o.address,wrap:"nowrap",width:"85%",weight:350,fontSize:17}),(0,r.jsx)(et,{width:18,height:18,fill:"var(--secondaryText)",style:{minWidth:"18px"}})]}),(0,r.jsxs)(k,{label:"Private key",justify:"space-between",copyValue:null===(s=u.openedWallet)||void 0===s?void 0:s.private_key,onCopyLabel:"Private key copied",gap:15,children:[(0,r.jsx)(h.Z.Text,{text:null===(d=u.openedWallet)||void 0===d?void 0:d.private_key,wrap:"nowrap",width:"85%",weight:350,fontSize:17}),(0,r.jsx)(et,{width:18,height:18,fill:"var(--secondaryText)",style:{minWidth:"18px"}})]})]})]})},eM=()=>{let e=(0,m.I0)(),{errorToast:t,successToast:n}=C(),[i,a]=y.fK.useImportWalletMutation(),[l]=y.fK.useLazyGetWalletsQuery(),[o,r]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),x=(0,m.v9)(y.KR),w=(0,m.v9)(p.k7).some(e=>e.window===p.oL.ImportWallet),g=(0,m.v9)(y.MX);return{flow:{handleImportWallet:async()=>{try{if(h(!0),!d||!x||!o)return;if(g.find(e=>e.name===d)){t("Wallet name already exists");return}let a=await i({name:d,network:x,private_key:o}).unwrap();a.ok&&a.data&&(e(y.vB.setSelectedWallet(a.data)),n("Wallet import successfully"),e(p.fw.removeAllWindows()))}catch(n){t("Failed to import wallet"),e(p.fw.removeLastWindow())}finally{h(!1),c(""),r(""),l()}},handleWalletNameChange:e=>{c(e.target.value)},handlePrivateKeyChange:e=>{r(e.target.value)}},state:{walletName:d,privateKey:o,isWindowOpen:w,network:x,isLoading:u||a.isLoading,isBtnActive:!!(d&&o&&x)}}},eD=s.forwardRef((e,t)=>{var n;return(0,r.jsxs)("svg",{ref:t,width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer"},...e,children:[(0,r.jsx)("rect",{x:"0.125",y:"0.5625",width:"16.875",height:"16.875",rx:"8.4375",fill:"#767680",fillOpacity:"0.6"}),(0,r.jsx)("path",{d:"M5.02765 12.6193C4.93701 12.5287 4.87719 12.4235 4.84819 12.3039C4.81918 12.1806 4.81918 12.0592 4.84819 11.9395C4.87719 11.8199 4.9352 11.7166 5.02221 11.6296L7.57274 9.07903L5.02221 6.53394C4.9352 6.44693 4.87719 6.3436 4.84819 6.22396C4.81918 6.10432 4.81918 5.98468 4.84819 5.86504C4.87719 5.74177 4.93701 5.63482 5.02765 5.54418C5.11466 5.45717 5.21799 5.39916 5.33763 5.37016C5.4609 5.33753 5.58235 5.33753 5.70199 5.37016C5.82526 5.39916 5.9304 5.45536 6.01741 5.53875L8.5625 8.08928L11.113 5.54418C11.2 5.45717 11.3016 5.39916 11.4176 5.37016C11.5372 5.33753 11.6569 5.33753 11.7765 5.37016C11.8998 5.39916 12.0049 5.45898 12.0919 5.54962C12.1862 5.63663 12.2478 5.74177 12.2768 5.86504C12.3058 5.98468 12.3058 6.10432 12.2768 6.22396C12.2478 6.3436 12.188 6.44693 12.0974 6.53394L9.5577 9.07903L12.0974 11.6296C12.188 11.7166 12.2478 11.8199 12.2768 11.9395C12.3058 12.0592 12.3058 12.1806 12.2768 12.3039C12.2478 12.4235 12.1862 12.5269 12.0919 12.6139C12.0049 12.7045 11.8998 12.7662 11.7765 12.7988C11.6569 12.8278 11.5372 12.8278 11.4176 12.7988C11.3016 12.7698 11.2 12.71 11.113 12.6193L8.5625 10.0742L6.01741 12.6248C5.9304 12.7081 5.82526 12.7662 5.70199 12.7988C5.58235 12.8278 5.4609 12.8278 5.33763 12.7988C5.21799 12.7662 5.11466 12.7063 5.02765 12.6193Z",fill:null!==(n=e.fill)&&void 0!==n?n:"white"})]})});var eE=n(7702),eP=n.n(eE);let eR=e=>{var t;let[n,i]=s.useState(!1),a=s.useRef(null),l={[eP().block]:e.block,[eP()[null!==(t=e.theme)&&void 0!==t?t:"light"]]:!0,[eP().focused]:n,[eP().readonly]:e.readonly,[eP().hasIcon]:!!e.icon,[eP().lg]:"lg"===e.size,[eP().sm]:"sm"===e.size};return(0,r.jsxs)("div",{className:O()(eP().input_wrapper,l),children:[e.label&&(0,r.jsx)("label",{htmlFor:e.id,className:eP().label,children:e.label}),(0,r.jsxs)(v.k,{width:"inherit",height:"fit-content",gap:0,className:O()(eP().input_container,e.className),children:[e.icon&&e.icon,(0,r.jsx)("input",{id:e.id,ref:a,type:e.type,name:e.name,value:e.value,onChange:e.onChange,onBlur:()=>{i(!1)},onFocus:()=>{i(!0)},placeholder:e.placeholder,className:eP().input}),e.value&&(0,r.jsx)(eD,{width:18.5,height:18.5,onClick:()=>{e.value&&e.onChange&&e.onChange({target:{value:""}})}}),e.isHasMaxButton&&!e.value&&(0,r.jsx)(v.k,{onClick:e.onMaxButtonClick,className:eP().max_btn,children:"Max"})]})]})},eH=()=>{let{flow:e,state:t}=eM();return(0,r.jsxs)(ev,{zIndex:5004,btnText:"Import",btnIcon:(0,r.jsx)(G,{fill:"white",width:14,height:14}),btnOnClick:e.handleImportWallet,isBtnActive:t.isBtnActive,isBtnDisabled:t.isLoading,isOpen:t.isWindowOpen,children:[(0,r.jsx)(E,{style:{margin:"12px auto"}}),(0,r.jsx)(eg,{title:"Import Wallet",isLoading:t.isLoading,description:"Import an existing ".concat(t.network&&_[t.network]," wallet")}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsx)(eR,{placeholder:"...",label:"Wallet name",value:t.walletName,onChange:e.handleWalletNameChange}),(0,r.jsx)(eR,{placeholder:"...",label:"Private key",value:t.privateKey,onChange:e.handlePrivateKeyChange})]})]})},ez=()=>{let e=(0,m.I0)(),{errorToast:t,successToast:n}=C(),[i,a]=y.fK.useCreateWalletMutation(),[l]=y.fK.useLazyGetWalletsQuery(),[o,r]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),u=(0,m.v9)(y.KR),h=(0,m.v9)(p.k7).some(e=>e.window===p.oL.CreateWallet),x=(0,m.v9)(y.MX);return{flow:{handleCreateWallet:async()=>{try{if(c(!0),!o||!u)return;if(x.find(e=>e.name===o)){t("Wallet name already exists");return}let a=await i({name:o,network:u}).unwrap();a.ok&&a.data&&(e(y.vB.setSelectedWallet(a.data)),n("Wallet created successfully"),e(p.fw.removeAllWindows()))}catch(n){t("Failed to create wallet"),e(p.fw.removeLastWindow())}finally{c(!1),r(""),l()}},handleWalletNameChange:e=>{r(e.target.value)}},state:{walletName:o,isWindowOpen:h,network:u,isLoading:d||a.isLoading,isBtnActive:!!(o&&u)}}},eV=()=>{let{flow:e,state:t}=ez();return(0,r.jsxs)(ev,{zIndex:5004,btnText:"Create",btnIcon:(0,r.jsx)(G,{fill:"white",width:14,height:14}),btnOnClick:e.handleCreateWallet,isBtnActive:t.isBtnActive,isBtnDisabled:t.isLoading,isOpen:t.isWindowOpen,children:[(0,r.jsx)(E,{style:{margin:"12px auto"}}),(0,r.jsx)(eg,{title:"Create Wallet",isLoading:t.isLoading,description:"Create a new ".concat(t.network&&_[t.network]," wallet")}),(0,r.jsx)(v.k,{width:"100%",direction:"column",gap:12,children:(0,r.jsx)(eR,{placeholder:"...",label:"Wallet name",value:t.walletName,onChange:e.handleWalletNameChange})})]})},eK=()=>{let e=(0,m.I0)();return{flow:{handleCreateWalletClick:()=>{e(p.fw.addWindow({window:p.oL.CreateWallet}))},handleImportWalletClick:()=>{e(p.fw.addWindow({window:p.oL.ImportWallet}))}},state:{isWindowOpen:(0,m.v9)(p.k7).some(e=>e.window===p.oL.AddWallet)}}},eq=s.forwardRef((e,t)=>{var n,i,a,l,o,s,d,c,u,p,h;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:[(0,r.jsx)("path",{d:"M3.96305 4.84989C3.96305 4.53946 3.96305 4.38425 4.02346 4.26569C4.0766 4.1614 4.1614 4.0766 4.26569 4.02346C4.38425 3.96305 4.53946 3.96305 4.84989 3.96305H5.84758C6.158 3.96305 6.31321 3.96305 6.43177 4.02346C6.53607 4.0766 6.62086 4.1614 6.674 4.26569C6.73441 4.38425 6.73441 4.53946 6.73441 4.84989V5.84758C6.73441 6.158 6.73441 6.31321 6.674 6.43177C6.62086 6.53607 6.53607 6.62086 6.43177 6.674C6.31321 6.73441 6.158 6.73441 5.84758 6.73441H4.84989C4.53946 6.73441 4.38425 6.73441 4.26569 6.674C4.1614 6.62086 4.0766 6.53607 4.02346 6.43177C3.96305 6.31321 3.96305 6.158 3.96305 5.84758V4.84989Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#007AFF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.42536 5.08087e-07H6.2721C6.8618 -1.24339e-05 7.35903 -2.33449e-05 7.76622 0.0332455C8.19248 0.0680724 8.60001 0.143866 8.98756 0.34133C9.57681 0.641571 10.0559 1.12065 10.3561 1.70991C10.5536 2.09745 10.6294 2.50498 10.6642 2.93124C10.6975 3.33844 10.6975 3.83563 10.6975 4.42535V6.27211C10.6975 6.86183 10.6975 7.35902 10.6642 7.76622C10.6294 8.19248 10.5536 8.60001 10.3561 8.98756C10.0559 9.57681 9.57681 10.0559 8.98756 10.3561C8.60001 10.5536 8.19248 10.6294 7.76622 10.6642C7.35902 10.6975 6.86183 10.6975 6.27211 10.6975H4.42535C3.83563 10.6975 3.33844 10.6975 2.93124 10.6642C2.50498 10.6294 2.09745 10.5536 1.70991 10.3561C1.12065 10.0559 0.641571 9.57681 0.34133 8.98756C0.143866 8.60001 0.0680724 8.19248 0.0332455 7.76622C-2.33449e-05 7.35903 -1.24339e-05 6.86185 5.08087e-07 6.27215V4.42536C-1.24339e-05 3.83566 -2.33449e-05 3.33843 0.0332455 2.93124C0.0680724 2.50498 0.143866 2.09745 0.34133 1.70991C0.641571 1.12065 1.12065 0.641571 1.70991 0.34133C2.09745 0.143866 2.50498 0.0680724 2.93124 0.0332455C3.33843 -2.33449e-05 3.83566 -1.24339e-05 4.42536 5.08087e-07ZM3.08019 1.85627C2.76704 1.88186 2.62702 1.92689 2.5403 1.97107C2.29521 2.09595 2.09595 2.29521 1.97107 2.5403C1.92689 2.62702 1.88186 2.76704 1.85627 3.08019C1.82981 3.40401 1.8291 3.82596 1.8291 4.46189V6.23557C1.8291 6.8715 1.82981 7.29345 1.85627 7.61727C1.88186 7.93042 1.92689 8.07045 1.97107 8.15716C2.09595 8.40225 2.29521 8.60151 2.5403 8.72639C2.62702 8.77058 2.76704 8.81561 3.08019 8.84119C3.40401 8.86765 3.82596 8.86836 4.46189 8.86836H6.23557C6.8715 8.86836 7.29345 8.86765 7.61727 8.84119C7.93042 8.81561 8.07045 8.77058 8.15716 8.72639C8.40225 8.60151 8.60151 8.40225 8.72639 8.15716C8.77058 8.07045 8.81561 7.93042 8.84119 7.61727C8.86765 7.29345 8.86836 6.8715 8.86836 6.23557V4.4619C8.86836 3.82596 8.86765 3.40401 8.84119 3.08019C8.81561 2.76704 8.77058 2.62702 8.72639 2.5403C8.60151 2.29521 8.40225 2.09595 8.15716 1.97107C8.07045 1.92689 7.93042 1.88186 7.61727 1.85627C7.29345 1.82981 6.8715 1.8291 6.23557 1.8291H4.4619C3.82596 1.8291 3.40401 1.82981 3.08019 1.85627Z",fill:null!==(i=e.fill)&&void 0!==i?i:"#007AFF"}),(0,r.jsx)("path",{d:"M3.96305 18.1524C3.96305 17.842 3.96305 17.6868 4.02346 17.5682C4.0766 17.4639 4.1614 17.3791 4.26569 17.326C4.38425 17.2656 4.53946 17.2656 4.84989 17.2656H5.84758C6.158 17.2656 6.31321 17.2656 6.43177 17.326C6.53607 17.3791 6.62086 17.4639 6.674 17.5682C6.73441 17.6868 6.73441 17.842 6.73441 18.1524V19.1501C6.73441 19.4605 6.73441 19.6157 6.674 19.7343C6.62086 19.8386 6.53607 19.9234 6.43177 19.9765C6.31321 20.037 6.158 20.037 5.84758 20.037H4.84989C4.53946 20.037 4.38425 20.037 4.26569 19.9765C4.1614 19.9234 4.0766 19.8386 4.02346 19.7343C3.96305 19.6157 3.96305 19.4605 3.96305 19.1501V18.1524Z",fill:null!==(a=e.fill)&&void 0!==a?a:"#007AFF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.42536 13.3025H6.2721C6.86181 13.3025 7.35902 13.3025 7.76622 13.3358C8.19248 13.3706 8.60001 13.4464 8.98756 13.6439C9.57681 13.9441 10.0559 14.4232 10.3561 15.0124C10.5536 15.4 10.6294 15.8075 10.6642 16.2338C10.6975 16.641 10.6975 17.1382 10.6975 17.7279V19.5747C10.6975 20.1644 10.6975 20.6616 10.6642 21.0688C10.6294 21.495 10.5536 21.9025 10.3561 22.2901C10.0559 22.8794 9.57681 23.3584 8.98756 23.6587C8.60001 23.8561 8.19248 23.9319 7.76622 23.9668C7.35902 24 6.86183 24 6.27211 24H4.42535C3.83563 24 3.33844 24 2.93124 23.9668C2.50498 23.9319 2.09745 23.8561 1.70991 23.6587C1.12065 23.3584 0.641571 22.8794 0.34133 22.2901C0.143866 21.9025 0.0680724 21.495 0.0332455 21.0688C-2.33449e-05 20.6616 -1.24339e-05 20.1644 5.08087e-07 19.5747V17.7279C-1.24339e-05 17.1382 -2.33449e-05 16.641 0.0332455 16.2338C0.0680724 15.8075 0.143866 15.4 0.34133 15.0124C0.641571 14.4232 1.12065 13.9441 1.70991 13.6439C2.09745 13.4464 2.50498 13.3706 2.93124 13.3358C3.33844 13.3025 3.83565 13.3025 4.42536 13.3025ZM3.08019 15.1588C2.76704 15.1844 2.62702 15.2294 2.5403 15.2736C2.29521 15.3985 2.09595 15.5978 1.97107 15.8428C1.92689 15.9296 1.88186 16.0696 1.85627 16.3827C1.82981 16.7066 1.8291 17.1285 1.8291 17.7644V19.5381C1.8291 20.174 1.82981 20.596 1.85627 20.9198C1.88186 21.233 1.92689 21.373 1.97107 21.4597C2.09595 21.7048 2.29521 21.9041 2.5403 22.0289C2.62702 22.0731 2.76704 22.1181 3.08019 22.1437C3.40401 22.1702 3.82596 22.1709 4.46189 22.1709H6.23557C6.8715 22.1709 7.29345 22.1702 7.61727 22.1437C7.93042 22.1181 8.07045 22.0731 8.15716 22.0289C8.40225 21.9041 8.60151 21.7048 8.72639 21.4597C8.77058 21.373 8.81561 21.233 8.84119 20.9198C8.86765 20.596 8.86836 20.174 8.86836 19.5381V17.7644C8.86836 17.1285 8.86765 16.7066 8.84119 16.3827C8.81561 16.0696 8.77058 15.9296 8.72639 15.8428C8.60151 15.5978 8.40225 15.3985 8.15716 15.2736C8.07045 15.2294 7.93042 15.1844 7.61727 15.1588C7.29345 15.1324 6.8715 15.1316 6.23557 15.1316H4.4619C3.82596 15.1316 3.40401 15.1324 3.08019 15.1588Z",fill:null!==(l=e.fill)&&void 0!==l?l:"#007AFF"}),(0,r.jsx)("path",{d:"M13.94 14.8268C13.94 14.5164 13.94 14.3612 14.0004 14.2426C14.0535 14.1383 14.1383 14.0535 14.2426 14.0004C14.3612 13.94 14.5164 13.94 14.8268 13.94H15.8245C16.1349 13.94 16.2901 13.94 16.4087 14.0004C16.513 14.0535 16.5978 14.1383 16.6509 14.2426C16.7113 14.3612 16.7113 14.5164 16.7113 14.8268V15.8245C16.7113 16.1349 16.7113 16.2901 16.6509 16.4087C16.5978 16.513 16.513 16.5978 16.4087 16.6509C16.2901 16.7113 16.1349 16.7113 15.8245 16.7113H14.8268C14.5164 16.7113 14.3612 16.7113 14.2426 16.6509C14.1383 16.5978 14.0535 16.513 14.0004 16.4087C13.94 16.2901 13.94 16.1349 13.94 15.8245V14.8268Z",fill:null!==(o=e.fill)&&void 0!==o?o:"#007AFF"}),(0,r.jsx)("path",{d:"M17.2656 18.1524C17.2656 17.842 17.2656 17.6868 17.326 17.5682C17.3791 17.4639 17.4639 17.3791 17.5682 17.326C17.6868 17.2656 17.842 17.2656 18.1524 17.2656H19.1501C19.4605 17.2656 19.6157 17.2656 19.7343 17.326C19.8386 17.3791 19.9234 17.4639 19.9765 17.5682C20.037 17.6868 20.037 17.842 20.037 18.1524V19.1501C20.037 19.4605 20.037 19.6157 19.9765 19.7343C19.9234 19.8386 19.8386 19.9234 19.7343 19.9765C19.6157 20.037 19.4605 20.037 19.1501 20.037H18.1524C17.842 20.037 17.6868 20.037 17.5682 19.9765C17.4639 19.9234 17.3791 19.8386 17.326 19.7343C17.2656 19.6157 17.2656 19.4605 17.2656 19.1501V18.1524Z",fill:null!==(s=e.fill)&&void 0!==s?s:"#007AFF"}),(0,r.jsx)("path",{d:"M14.0004 20.8939C13.94 21.0124 13.94 21.1676 13.94 21.4781V22.4757C13.94 22.7862 13.94 22.9414 14.0004 23.0599C14.0535 23.1642 14.1383 23.249 14.2426 23.3022C14.3612 23.3626 14.5164 23.3626 14.8268 23.3626H15.8245C16.1349 23.3626 16.2901 23.3626 16.4087 23.3022C16.513 23.249 16.5978 23.1642 16.6509 23.0599C16.7113 22.9414 16.7113 22.7862 16.7113 22.4757V21.4781C16.7113 21.1676 16.7113 21.0124 16.6509 20.8939C16.5978 20.7896 16.513 20.7048 16.4087 20.6516C16.2901 20.5912 16.1349 20.5912 15.8245 20.5912H14.8268C14.5164 20.5912 14.3612 20.5912 14.2426 20.6516C14.1383 20.7048 14.0535 20.7896 14.0004 20.8939Z",fill:null!==(d=e.fill)&&void 0!==d?d:"#007AFF"}),(0,r.jsx)("path",{d:"M20.5912 14.8268C20.5912 14.5164 20.5912 14.3612 20.6516 14.2426C20.7048 14.1383 20.7896 14.0535 20.8939 14.0004C21.0124 13.94 21.1676 13.94 21.4781 13.94H22.4757C22.7862 13.94 22.9414 13.94 23.0599 14.0004C23.1642 14.0535 23.249 14.1383 23.3022 14.2426C23.3626 14.3612 23.3626 14.5164 23.3626 14.8268V15.8245C23.3626 16.1349 23.3626 16.2901 23.3022 16.4087C23.249 16.513 23.1642 16.5978 23.0599 16.6509C22.9414 16.7113 22.7862 16.7113 22.4757 16.7113H21.4781C21.1676 16.7113 21.0124 16.7113 20.8939 16.6509C20.7896 16.5978 20.7048 16.513 20.6516 16.4087C20.5912 16.2901 20.5912 16.1349 20.5912 15.8245V14.8268Z",fill:null!==(c=e.fill)&&void 0!==c?c:"#007AFF"}),(0,r.jsx)("path",{d:"M20.6516 20.8939C20.5912 21.0124 20.5912 21.1676 20.5912 21.4781V22.4757C20.5912 22.7862 20.5912 22.9414 20.6516 23.0599C20.7048 23.1642 20.7896 23.249 20.8939 23.3022C21.0124 23.3626 21.1676 23.3626 21.4781 23.3626H22.4757C22.7862 23.3626 22.9414 23.3626 23.0599 23.3022C23.1642 23.249 23.249 23.1642 23.3022 23.0599C23.3626 22.9414 23.3626 22.7862 23.3626 22.4757V21.4781C23.3626 21.1676 23.3626 21.0124 23.3022 20.8939C23.249 20.7896 23.1642 20.7048 23.0599 20.6516C22.9414 20.5912 22.7862 20.5912 22.4757 20.5912H21.4781C21.1676 20.5912 21.0124 20.5912 20.8939 20.6516C20.7896 20.7048 20.7048 20.7896 20.6516 20.8939Z",fill:null!==(u=e.fill)&&void 0!==u?u:"#007AFF"}),(0,r.jsx)("path",{d:"M17.2656 4.84989C17.2656 4.53946 17.2656 4.38425 17.326 4.26569C17.3791 4.1614 17.4639 4.0766 17.5682 4.02346C17.6868 3.96305 17.842 3.96305 18.1524 3.96305H19.1501C19.4605 3.96305 19.6157 3.96305 19.7343 4.02346C19.8386 4.0766 19.9234 4.1614 19.9765 4.26569C20.037 4.38425 20.037 4.53946 20.037 4.84989V5.84758C20.037 6.158 20.037 6.31321 19.9765 6.43177C19.9234 6.53607 19.8386 6.62086 19.7343 6.674C19.6157 6.73441 19.4605 6.73441 19.1501 6.73441H18.1524C17.842 6.73441 17.6868 6.73441 17.5682 6.674C17.4639 6.62086 17.3791 6.53607 17.326 6.43177C17.2656 6.31321 17.2656 6.158 17.2656 5.84758V4.84989Z",fill:null!==(p=e.fill)&&void 0!==p?p:"#007AFF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7279 5.08087e-07H19.5746C20.1643 -1.24339e-05 20.6616 -2.33449e-05 21.0688 0.0332455C21.495 0.0680724 21.9025 0.143866 22.2901 0.34133C22.8794 0.641571 23.3584 1.12065 23.6587 1.70991C23.8561 2.09745 23.9319 2.50498 23.9668 2.93124C24 3.33844 24 3.83563 24 4.42535V6.27211C24 6.86183 24 7.35902 23.9668 7.76622C23.9319 8.19248 23.8561 8.60001 23.6587 8.98756C23.3584 9.57681 22.8794 10.0559 22.2901 10.3561C21.9025 10.5536 21.495 10.6294 21.0688 10.6642C20.6616 10.6975 20.1644 10.6975 19.5747 10.6975H17.7279C17.1382 10.6975 16.641 10.6975 16.2338 10.6642C15.8075 10.6294 15.4 10.5536 15.0124 10.3561C14.4232 10.0559 13.9441 9.57681 13.6439 8.98756C13.4464 8.60001 13.3706 8.19248 13.3358 7.76622C13.3025 7.35902 13.3025 6.86184 13.3025 6.27213V4.42536C13.3025 3.83565 13.3025 3.33844 13.3358 2.93124C13.3706 2.50498 13.4464 2.09745 13.6439 1.70991C13.9441 1.12065 14.4232 0.641571 15.0124 0.34133C15.4 0.143866 15.8075 0.0680724 16.2338 0.0332455C16.641 -2.33449e-05 17.1382 -1.24339e-05 17.7279 5.08087e-07ZM16.3827 1.85627C16.0696 1.88186 15.9296 1.92689 15.8428 1.97107C15.5978 2.09595 15.3985 2.29521 15.2736 2.5403C15.2294 2.62702 15.1844 2.76704 15.1588 3.08019C15.1324 3.40401 15.1316 3.82596 15.1316 4.46189V6.23557C15.1316 6.8715 15.1324 7.29345 15.1588 7.61727C15.1844 7.93042 15.2294 8.07045 15.2736 8.15716C15.3985 8.40225 15.5978 8.60151 15.8428 8.72639C15.9296 8.77058 16.0696 8.81561 16.3827 8.84119C16.7066 8.86765 17.1285 8.86836 17.7644 8.86836H19.5381C20.174 8.86836 20.596 8.86765 20.9198 8.84119C21.233 8.81561 21.373 8.77058 21.4597 8.72639C21.7048 8.60151 21.9041 8.40225 22.0289 8.15716C22.0731 8.07045 22.1181 7.93042 22.1437 7.61727C22.1702 7.29345 22.1709 6.8715 22.1709 6.23557V4.4619C22.1709 3.82596 22.1702 3.40401 22.1437 3.08019C22.1181 2.76704 22.0731 2.62702 22.0289 2.5403C21.9041 2.29521 21.7048 2.09595 21.4597 1.97107C21.373 1.92689 21.233 1.88186 20.9198 1.85627C20.596 1.82981 20.174 1.8291 19.5381 1.8291H17.7644C17.1285 1.8291 16.7066 1.82981 16.3827 1.85627Z",fill:null!==(h=e.fill)&&void 0!==h?h:"#007AFF"})]})}),eQ=()=>{let{flow:e,state:t}=eK();return(0,r.jsxs)(ev,{zIndex:5003,isOpen:t.isWindowOpen,children:[(0,r.jsx)(eg,{title:"Add Wallet",description:"Import or create a new wallet"}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsxs)(k,{gap:12,onClick:e.handleCreateWalletClick,children:[(0,r.jsx)(G,{}),(0,r.jsx)(h.Z.Title,{text:"Create wallet",subtitle:"Create a new wallet",fontSize:16,weight:550})]}),(0,r.jsxs)(k,{gap:12,onClick:e.handleImportWalletClick,children:[(0,r.jsx)(eq,{}),(0,r.jsx)(h.Z.Title,{text:"Import wallet",subtitle:"Import an existing wallet",fontSize:16,weight:550})]})]})]})},eG=()=>{let e=(0,m.I0)(),{errorToast:t}=C(),[n]=y.fK.useLazyGetWalletQuery(),i=(0,m.v9)(y.KR),a=(0,m.v9)(p.bt),l=(0,m.v9)(p.k7).some(e=>e.window===p.oL.Networks),o=(0,m.v9)(y.MX);return{flow:{handleNetworkClick:async i=>{try{let t=o.find(e=>e.network===i);t&&(await n(t.id).unwrap()).ok&&(e(p.fw.removeWindow(p.oL.Networks)),e(y.vB.setSelectedNetwork(i)))}catch(e){t("Failed to get wallet")}}},state:{isLoading:a,isWindowOpen:l,selectedNetwork:i,networks:Object.values(y.Zc)}}};var eU=n(2878),e$=n.n(eU);let eX=()=>{let{flow:e,state:t}=eG();return(0,r.jsxs)(ev,{zIndex:5005,isOpen:t.isWindowOpen,children:[(0,r.jsx)(eg,{title:"Choose network",isLoading:t.isLoading}),(0,r.jsx)(v.k,{width:"100%",direction:"column",gap:12,children:t.networks.map(n=>(0,r.jsxs)(v.k,{className:e$().network,onClick:()=>e.handleNetworkClick(n),children:[t.selectedNetwork===n&&(0,r.jsx)(v.k,{className:e$().network_selected_pill}),(0,r.jsx)(D.default,{width:40,height:40,src:Z[n],alt:"network-icon",priority:!0}),(0,r.jsx)(h.Z.Text,{text:"".concat(n," (").concat(_[n],")"),fontSize:16,weight:550})]},n))})]})};function eY(e,t){let n=(0,s.useRef)();return(0,s.useCallback)(function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{e(...a)},t)},[e,t])}let eJ=()=>{let{errorToast:e,successToast:t}=C(),[n,i]=y.fK.useLazyGetTokenInfoQuery(),[a]=y.fK.useLazyGetWalletsQuery(),[l,o]=y.fK.useAddWalletTokenMutation(),[r,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[h,x]=(0,s.useState)(),w=(0,m.v9)(y.wR),g=(0,m.v9)(p.k7).some(e=>e.window===p.oL.AddToken),f=eY(async t=>{try{if(!t||!w)return;u(!0);let e=await n({network:null==w?void 0:w.network,contract:t}).unwrap();x(e.data)}catch(t){e("Failed to get token info")}finally{u(!1)}},350);return{flow:{handleAddWalletToken:async()=>{try{if(!w||!r)return;if(u(!0),w.tokens.some(e=>e.contract===r)){e("Token already added");return}(await l({wallet_id:w.id,wallet_address:w.address,network:w.network,contract:r}).unwrap()).ok&&(t("Token added"),a())}catch(t){e("Failed to add token")}finally{x(void 0),u(!1),d("")}},handleGetTokenInfo:f,handleTokenAddressChange:e=>{u(!0),d(e.target.value),e.target.value?f(e.target.value):(x(void 0),u(!1))}},state:{tokenInfo:h,isWindowOpen:g,tokenAddress:r,network:null==w?void 0:w.network,isLoading:i.isLoading||c||o.isLoading,isBtnActive:!!r&&!!h}}},e1=()=>{let{flow:e,state:t}=eJ();return(0,r.jsxs)(ev,{isOpen:t.isWindowOpen,btnText:"Add",btnIcon:(0,r.jsx)(G,{fill:"white",width:14,height:14}),btnOnClick:e.handleAddWalletToken,isBtnActive:t.isBtnActive,isBtnDisabled:t.isLoading,children:[(0,r.jsx)(eg,{title:"Add ".concat(null==t?void 0:t.network," token"),isLoading:t.isLoading}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsx)(eR,{label:"Enter ".concat((null==t?void 0:t.network)?_[t.network]:""," token contract address"),placeholder:"0x...",value:t.tokenAddress,onChange:e.handleTokenAddressChange}),t.tokenInfo&&(0,r.jsxs)(k,{justify:"space-between",align:"center",gap:12,children:[(0,r.jsx)(D.default,{width:40,height:40,src:t.tokenInfo.icon,alt:"token-icon",style:{borderRadius:"50%"}}),(0,r.jsx)(h.Z.Text,{text:"".concat(t.tokenInfo.name," (").concat(t.tokenInfo.symbol,")"),weight:550,fontSize:16,width:"100%"}),(0,r.jsx)(h.Z.Text,{align:"right",text:"".concat(t.tokenInfo.price.toFixed(4),"$"),textOverflow:"inital",wrap:"nowrap",overflow:"visible"})]})]})]})};var e0=n(6187),e2=n.n(e0);let e6=()=>{let[e,t]=s.useState(1e4),n=(0,m.v9)(p.bt),i=(0,m.v9)(p.k7);return(0,s.useEffect)(()=>{let e;return n?t(1e4):e=setTimeout(()=>{t(-1)},600),()=>{clearTimeout(e)}},[n]),(0,r.jsx)(J.M,{children:(0,r.jsx)(Y.E.div,{initial:{opacity:1},animate:{opacity:n&&0===i.length?1:0,zIndex:e},transition:{ease:[.32,.72,0,1],duration:.6},className:e2().loading_window,children:(0,r.jsxs)(v.k,{direction:"column",align:"center",gap:12,children:[(0,r.jsx)(eo,{size:"lg"}),(0,r.jsx)(h.Z.Description,{text:"App initialization, please wait few moments...",align:"center",width:"150px",type:"secondary",fontSize:16})]})})})};var e3=n(7175);let e5=e=>{var t,n,i,a;let{flow:l,state:o}=e.logic;return(0,r.jsxs)(ev,{isOpen:o.isPrepareTransactionWindowOpen,btnText:"Continue",zIndex:5005,btnOnClick:l.handleOpenConfirmWindow,isBtnDisabled:o.isPrepareWindowBtnDisabled,isBtnActive:!0,children:[(0,r.jsx)(eg,{title:"Transfer",isLoading:o.isLoading}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsx)(eR,{type:"text",value:o.toAddress,onChange:l.handleToAddressChange,placeholder:"Address (".concat(o.network&&_[o.network],")")}),(0,r.jsx)(eR,{type:"number",value:o.amount,onChange:l.handleAmountChange,placeholder:"0.00 ".concat(null===(t=o.tokenToTransfer)||void 0===t?void 0:t.symbol),isHasMaxButton:!0,onMaxButtonClick:l.handleMaxButtonClick}),(0,r.jsx)(h.Z.Text,{text:"≈ ".concat(o.rate.toFixed(2)," $"),type:"secondary"}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",padding:"12px 0px 12px 0px",gap:12,children:[(0,r.jsx)(h.Z.Text,{text:"Balance",type:"secondary"}),(0,r.jsxs)(v.k,{align:"center",gap:12,children:[(null===(n=o.tokenToTransfer)||void 0===n?void 0:n.icon)&&(0,r.jsx)(D.default,{width:32,height:32,src:(0,e3.j)(o.tokenToTransfer),alt:"token-icon"}),(0,r.jsx)(h.Z.Text,{text:"".concat(null===(i=o.tokenToTransfer)||void 0===i?void 0:i.balance," ").concat(null===(a=o.tokenToTransfer)||void 0===a?void 0:a.symbol),fontSize:16,weight:550}),(0,r.jsx)(h.Z.Text,{text:"≈ ".concat(o.balanceUsd.toFixed(2)," $"),type:"secondary"})]})]})]})]})},e4=()=>{var e,t;let{errorToast:n,successToast:i}=C(),a=(0,m.I0)(),l=(0,m.v9)(y.wg),[o,r]=(0,s.useState)(),[d,c]=(0,s.useState)(0),[u,h]=(0,s.useState)(!1),[x,w]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[v,k]=(0,s.useState)(0),[j]=y.fK.useLazyGetTokenPriceQuery(),[b]=y.fK.useTransferMutation(),T=(0,m.v9)(y.wR),S=(0,m.v9)(p.eb)(p.oL.ConfirmTransfer),W=(0,m.v9)(p.eb)(p.oL.Transfer),L=(0,m.v9)(p.eb)(p.oL.PrepareTransfer),Z=eY(async e=>{try{if(h(!0),!o||!T||!e||Number(e)>(null==o?void 0:o.balance))return;let t=await j({symbol:null==o?void 0:o.symbol,network:null==T?void 0:T.network}).unwrap();t.ok&&t.data&&(k(t.data.price*Number(e)),c(t.data.price*o.balance))}catch(e){n("Failed to get token price")}finally{h(!1)}},350),B=(0,s.useCallback)(()=>{k(0),f(""),w(""),c(0),r(void 0),a(y.vB.clearSelectedToken()),a(p.fw.removeAllWindows())},[a]);(0,s.useEffect)(()=>()=>{B()},[B]);let N=async()=>{try{if(h(!0),!o||!T||!x||!g)return;(await b({amount:Number(g),currency:o.symbol,token_id:o.id,wallet_id:T.id,to_address:x}).unwrap()).ok&&(i("Transfer successful"),B())}catch(e){n("Failed to transfer tokens")}finally{h(!1)}};(0,s.useEffect)(()=>{l&&(r(l),Z("0"))},[l]);let A=(0,s.useCallback)(e=>{console.log("Setting tokenToTransfer:",e),r(e),a(y.vB.setSelectedToken(e)),a(p.fw.addWindow({window:p.oL.PrepareTransfer}))},[a]);return(0,s.useEffect)(()=>()=>{r(void 0)},[]),(0,s.useEffect)(()=>{L&&Z("0")},[L]),{flow:{handleTokenSelect:A,handleAmountChange:e=>{if(h(!0),o){if(Number(e.target.value)>(null==o?void 0:o.balance)&&n("Insufficient funds"),e.target.value)f(e.target.value),Z(e.target.value);else{k(0),f(""),h(!1);return}}},handleTransferConfirm:N,handleMaxButtonClick:()=>{o&&f(o.balance.toString())},handleToAddressChange:e=>{if(!o)return;if(!e.target.value){w("");return}let t=/^0x[a-fA-F0-9]{40}$/,i=t;if(x===(null==T?void 0:T.address)){n("Please, enter the recipient address, not the sender address");return}switch(null==o?void 0:o.network){case y.Zc.ETH:i=t;break;case y.Zc.SOL:i=/^([a-zA-Z0-9]{32}|[a-zA-Z0-9]{43}|[a-zA-Z0-9]{44})$/;break;case y.Zc.TON:i=/^(EQ|UQ)[a-zA-Z0-9_-]{46}$/;break;case y.Zc.BSC:i=/^0x[a-fA-F0-9]{40}$/}i.test(e.target.value)?w(e.target.value):n("Invalid ".concat(_[o.network]," address"))},handleOpenConfirmWindow:()=>{a(p.fw.addWindow({window:p.oL.ConfirmTransfer}))}},state:{amount:g,rate:v,tokenToTransfer:o,balanceUsd:d,toAddress:x,isConfirmWindowOpen:S,isLoading:u,isPrepareTransactionWindowOpen:L,isSelectTokensWindowOpen:W,selectedWallet:T,tokens:(null==T?void 0:T.tokens)?null==T?void 0:T.tokens.filter(e=>e.balance>0):[],network:null==T?void 0:T.network,isPrepareWindowBtnDisabled:!o||!x||!g||u||Number(g)>o.balance,isNoTokensToTransfer:(null==T?void 0:null===(t=T.tokens)||void 0===t?void 0:null===(e=t.filter(e=>e.balance>0))||void 0===e?void 0:e.length)===0}}},e8=e=>{var t,n,i,a,l;let{flow:o,state:s}=e.logic;return(0,r.jsxs)(ev,{isOpen:s.isConfirmWindowOpen,zIndex:5006,btnOnClick:o.handleTransferConfirm,btnText:"Confirm",isBtnActive:!0,children:[(0,r.jsx)(eg,{title:"Transfer",isLoading:s.isLoading}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:24,children:[(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:4,children:[(0,r.jsxs)(v.k,{align:"center",gap:9,children:[(0,r.jsx)(h.Z.Title,{text:s.amount,fontFamily:"ClashDisplay-Bold"}),(0,r.jsx)(h.Z.Title,{text:null===(t=s.tokenToTransfer)||void 0===t?void 0:t.symbol,fontFamily:"ClashDisplay-Bold"})]}),(0,r.jsx)(h.Z.Text,{text:"≈ ".concat(s.rate.toFixed(2)," $"),type:"secondary"})]}),(0,r.jsxs)(k,{direction:"column",justify:"center",padding:"16px 20px",gap:12,children:[(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"From",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"".concat(null===(n=s.selectedWallet)||void 0===n?void 0:n.address.slice(0,6),"...").concat(null===(i=s.selectedWallet)||void 0===i?void 0:i.address.slice(-6))})]}),(0,r.jsx)(eT,{}),(0,r.jsxs)(k,{justify:"space-between",padding:"0",height:17,copyValue:s.toAddress,onCopyLabel:"Copied",children:[(0,r.jsx)(h.Z.Text,{text:"to",type:"secondary"}),(0,r.jsxs)(v.k,{align:"center",gap:9,children:[(0,r.jsx)(h.Z.Text,{text:"".concat(null===(a=s.toAddress)||void 0===a?void 0:a.slice(0,6),"...").concat(null===(l=s.toAddress)||void 0===l?void 0:l.slice(-6))}),(0,r.jsx)(et,{})]})]}),(0,r.jsx)(eT,{}),(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"Network",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:s.network})]})]}),(0,r.jsx)(h.Z.Description,{text:"Your funds may be lost if you send them to another network",align:"center",type:"secondary"})]})]})},e7=()=>{let e=e4();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ev,{isOpen:e.state.isSelectTokensWindowOpen,children:[(0,r.jsx)(eg,{title:"Transfer",description:e.state.isNoTokensToTransfer?"No tokens to transfer":"Select the token to be transferred in the ".concat(e.state.network&&_[e.state.network]," network"),descriptionType:"secondary"}),(0,r.jsx)(v.k,{width:"100%",direction:"column",gap:12,children:e.state.tokens.map(t=>(0,r.jsx)(U.WalletPageToken,{token:t,onTokenClick:e.flow.handleTokenSelect,isHidePrice:!0}))})]}),(0,r.jsx)(e5,{logic:e}),(0,r.jsx)(e8,{logic:e})]})},e9=()=>{let{successToast:e}=C(),t=(0,m.v9)(y.KR),n=(0,m.v9)(y.wR);return{flow:{handleCopyAddress:()=>{n&&(navigator.clipboard.writeText(n.address),e("Copied",{icon:(0,r.jsx)(w,{width:21,height:21})}))}},state:{isWindowOpen:(0,m.v9)(p.eb)(p.oL.Deposit),network:t,depositAddress:null==n?void 0:n.address}}};var te=n(2880);let tt=()=>{var e,t;let{flow:n,state:i}=e9();return(0,r.jsxs)(ev,{isOpen:i.isWindowOpen,children:[(0,r.jsx)(eg,{title:"Deposit",description:(0,r.jsxs)(r.Fragment,{children:["Send only ",(0,r.jsx)(h.Z.Text,{text:"".concat(i.network," tokens"),weight:600,fontSize:16})," on the"," ",(0,r.jsx)(h.Z.Text,{text:"".concat(i.network&&_[i.network]," network"),weight:600,fontSize:16})," to this address. Any other assets will be irretrievably lost."]})}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:12,children:[(0,r.jsxs)(k,{direction:"column",padding:"20px 30px",gap:15,children:[i.network&&(0,r.jsx)(te.Z,{value:"".concat(i.depositAddress),icon:B[i.network],bordered:!1}),(0,r.jsx)(h.Z.Text,{text:(0,r.jsxs)(r.Fragment,{children:["Scan the QR code to send ",i.network&&_[i.network]," tokens ",(0,r.jsx)("br",{})," to your wallet."]}),type:"secondary",align:"center",fontSize:16})]}),(0,r.jsxs)(k,{direction:"column",padding:"14px 16px",gap:21,children:[(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:9,children:[(0,r.jsx)(h.Z.Text,{text:"Your ".concat(i.network&&_[i.network]," address"),type:"secondary",fontSize:16}),(0,r.jsx)(h.Z.Text,{text:"".concat(null===(e=i.depositAddress)||void 0===e?void 0:e.slice(0,15),"...").concat(null===(t=i.depositAddress)||void 0===t?void 0:t.slice(-15)),wrap:"nowrap",weight:450,fontSize:16})]}),(0,r.jsxs)(M,{type:"primary",block:!0,onClick:n.handleCopyAddress,children:[(0,r.jsx)(et,{fill:"white",width:16,height:16}),"Copy address"]})]})]})]})},tn=s.forwardRef((e,t)=>{var n,i,a,l,o;return(0,r.jsxs)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7225 3.54778C11.7225 5.32298 10.288 6.76207 8.5185 6.76207C6.74898 6.76207 5.3145 5.32298 5.3145 3.54778C5.3145 1.77258 6.74898 0.333496 8.5185 0.333496C10.288 0.333496 11.7225 1.77258 11.7225 3.54778ZM10.6545 3.54778C10.6545 4.73125 9.69818 5.69064 8.5185 5.69064C7.33882 5.69064 6.3825 4.73125 6.3825 3.54778C6.3825 2.36431 7.33882 1.40492 8.5185 1.40492C9.69818 1.40492 10.6545 2.36431 10.6545 3.54778Z",fill:null!==(n=e.fill)&&void 0!==n?n:"#A0A0B3"}),(0,r.jsx)("path",{d:"M15.1701 12.1832C14.2102 10.1137 12.254 7.47635 8.5185 7.47635C6.67656 7.47635 5.27602 8.16313 4.2094 9.0819C3.8525 9.38933 4.09242 9.93326 4.56348 9.93326C4.69682 9.93326 4.82493 9.88399 4.92814 9.79955C5.83665 9.05629 7.00861 8.54778 8.5185 8.54778C11.6326 8.54778 13.3092 10.7109 14.2018 12.6353C14.3095 12.8674 14.271 13.0583 14.1536 13.2161C14.0224 13.3923 13.7671 13.5478 13.4231 13.5478H8.37273C8.07687 13.5478 7.83702 13.7876 7.83702 14.0835C7.83702 14.3794 8.07687 14.6192 8.37273 14.6192H13.4231C14.7598 14.6192 15.7341 13.399 15.1701 12.1832Z",fill:null!==(i=e.fill)&&void 0!==i?i:"#A0A0B3"}),(0,r.jsx)("path",{d:"M3.40742 11.2179C3.40742 11.03 3.25486 10.8777 3.06667 10.8777C2.87849 10.8777 2.72593 11.03 2.72593 11.2179V13.5988H0.340742C0.152555 13.5988 0 13.7511 0 13.9389C0 14.1268 0.152555 14.2791 0.340742 14.2791H2.72593V16.66C2.72593 16.8479 2.87849 17.0002 3.06667 17.0002C3.25486 17.0002 3.40742 16.8479 3.40742 16.66V14.2791H5.79261C5.98079 14.2791 6.13335 14.1268 6.13335 13.9389C6.13335 13.7511 5.98079 13.5988 5.79261 13.5988H3.40742V11.2179Z",fill:null!==(a=e.fill)&&void 0!==a?a:"#A0A0B3"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1855 4.7335C17.1855 6.05898 16.0674 7.1335 14.6881 7.1335C13.3089 7.1335 12.1908 6.05898 12.1908 4.7335C12.1908 3.40801 13.3089 2.3335 14.6881 2.3335C16.0674 2.3335 17.1855 3.40801 17.1855 4.7335ZM16.353 4.7335C16.353 5.61715 15.6076 6.3335 14.6881 6.3335C13.7686 6.3335 13.0232 5.61715 13.0232 4.7335C13.0232 3.84984 13.7686 3.1335 14.6881 3.1335C15.6076 3.1335 16.353 3.84984 16.353 4.7335Z",fill:null!==(l=e.fill)&&void 0!==l?l:"#A0A0B3"}),(0,r.jsx)("path",{d:"M19.8727 11.1813C19.1245 9.63603 17.5998 7.66683 14.6881 7.66683C14.573 7.66683 14.46 7.67013 14.3493 7.67655C14.1494 7.68814 13.9999 7.85837 13.9999 8.05862C13.9999 8.2987 14.212 8.48267 14.4519 8.47202C14.5294 8.46858 14.6082 8.46683 14.6881 8.46683C17.1154 8.46683 18.4222 10.082 19.118 11.5188C19.2019 11.6921 19.1719 11.8347 19.0804 11.9525C18.9782 12.0841 18.7791 12.2002 18.511 12.2002H16.3999C16.179 12.2002 15.9999 12.3792 15.9999 12.6002C15.9999 12.8211 16.179 13.0002 16.3999 13.0002H18.511C19.5529 13.0002 20.3123 12.0891 19.8727 11.1813Z",fill:null!==(o=e.fill)&&void 0!==o?o:"#A0A0B3"})]})}),ti=V.h.injectEndpoints({endpoints:e=>({getReferralProgram:e.query({query:()=>({url:"/referral/user"})})})}),ta=()=>{let e=(0,m.I0)(),t=(0,m.v9)(p.eb)(p.oL.Referral),n=(0,m.v9)(y.MX),{data:i}=ti.useGetReferralProgramQuery(void 0,{skip:!n.length});return{flow:{handleWindowClose:async()=>{e(p.fw.removeWindow(p.oL.Referral))},handleSendLinkClick:async()=>{let e=await R();e&&(null==i?void 0:i.data)&&e.openTelegramLink("https://t.me/share?url=".concat(i.data.link,"&text=Join to TestCryptoSwapBot for crypto exchange into telegram \uD83C\uDF7B"))}},state:{refProgram:null==i?void 0:i.data,isWindowOpen:t}}};var tl=n(5591);let to=()=>{var e,t,n,i,a,l,o,s;let{flow:d,state:c}=ta();return(0,r.jsx)(ev,{isOpen:c.isWindowOpen,setIsOpen:d.handleWindowClose,children:(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:24,children:[(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",padding:"16px 0 0 0",gap:16,children:[(0,r.jsx)(v.k,{radius:"15px",width:"60px",align:"center",justify:"center",height:"60px",bg:"var(--accentBg)",children:(0,r.jsx)(u,{fill:"var(--accent)",width:28,height:28})}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:3,children:[(0,r.jsx)(h.Z.Title,{text:"Referral program",fontSize:20,weight:600}),(0,r.jsx)(h.Z.Text,{text:"Invite your friends and earn from their commission",align:"center",fontSize:16})]})]}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:8,children:[(0,r.jsxs)(k,{justify:"space-between",padding:"14px 16px",children:[(0,r.jsxs)(v.k,{direction:"column",gap:6,children:[(0,r.jsx)(h.Z.Text,{text:"Earned all the time",type:"secondary"}),(0,r.jsxs)(v.k,{align:"center",gap:6,children:[(0,r.jsx)(D.default,{src:tl.default,alt:"usdt-icon"}),(0,r.jsx)(h.Z.Text,{text:"0",fontSize:18})]})]}),(0,r.jsxs)(v.k,{bg:"var(--referralsCountBg)",padding:"4px 10px",align:"center",radius:"8px",gap:8,children:[(0,r.jsx)(tn,{}),(0,r.jsx)(h.Z.Text,{text:null!==(a=null===(e=c.refProgram)||void 0===e?void 0:e.invited_count)&&void 0!==a?a:0,fontSize:18})]})]}),(0,r.jsxs)(k,{padding:"14px 16px",direction:"column",gap:12,children:[(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsxs)(v.k,{direction:"column",gap:6,children:[(0,r.jsx)(h.Z.Text,{text:"Available balance",type:"secondary"}),(0,r.jsxs)(v.k,{align:"center",gap:6,children:[(0,r.jsx)(D.default,{src:tl.default,alt:"usdt-icon"}),(0,r.jsx)(h.Z.Text,{text:null!==(l=null===(t=c.refProgram)||void 0===t?void 0:t.balance)&&void 0!==l?l:0,fontSize:18})]})]}),(0,r.jsxs)(v.k,{bg:"var(--withdrawalBtnBg)",padding:"0 16px",height:"36px",align:"center",radius:"8px",gap:8,children:[(0,r.jsx)(en,{width:16,height:16,fill:"var(--secondaryText)"}),(0,r.jsx)(h.Z.Text,{text:"Withdraw",type:"secondary",weight:550})]})]}),(0,r.jsx)(eT,{}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:4.5,children:[(0,r.jsx)(h.Z.Text,{text:"- Minimum withdrawal from 10$",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"- Withdrawal time: up to 72 working hours",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"- USDT will be accrued on the BEP-20 network",type:"secondary"})]})]}),(0,r.jsxs)(k,{padding:"14px 16px",direction:"column",gap:10,children:[(0,r.jsx)(h.Z.Text,{text:"Your referral link",type:"secondary",fontSize:16}),(0,r.jsx)(k,{bg:"var(--bg)",align:"center",justify:"center",copyValue:null!==(o=null===(n=c.refProgram)||void 0===n?void 0:n.link)&&void 0!==o?o:"",onCopyLabel:"Referral link copied",children:(0,r.jsx)(h.Z.Text,{text:null!==(s=null===(i=c.refProgram)||void 0===i?void 0:i.link)&&void 0!==s?s:"-",align:"center",width:"275px",wrap:"nowrap",weight:400,fontSize:17})}),(0,r.jsx)(M,{type:"primary",height:"50px",onClick:d.handleSendLinkClick,block:!0,children:"Send link"})]})]})]})})},tr=()=>{let{errorToast:e,successToast:t}=C(),n=(0,m.I0)(),i=(0,m.v9)(y.wg),[a,l]=(0,s.useState)(),[o,r]=(0,s.useState)(),[d,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[x,w]=(0,s.useState)(!1),[g,f]=(0,s.useState)(0),[v,k]=(0,s.useState)("swap"),[j,_]=(0,s.useState)(null),[b,T]=(0,s.useState)(!1),[S]=y.fK.useLazyGetHistoricalQuotesQuery(),[W,L]=(0,s.useState)([]),[Z]=y.fK.useLazyGetTokenPriceQuery(),[B,{isLoading:N}]=y.fK.useSwapMutation(),[A]=y.fK.useLazyGetWalletsQuery(),[I]=y.fK.useLazyGetTokenExtendedInfoQuery(),F=(0,m.v9)(y.wR),O=(0,m.v9)(p.eb)(p.oL.Swap),M=(0,m.v9)(p.eb)(p.oL.ConfirmSwap),[D,E]=(0,s.useState)(2),P=(0,s.useMemo)(()=>(null==F?void 0:F.tokens)?F.tokens.filter(e=>e.balance>0):[],[F]),R=(0,s.useMemo)(()=>(null==F?void 0:F.tokens)?F.tokens:[],[F]),H=eY(async t=>{try{w(!0);let e=await S({id:t.id,symbol:t.symbol,address:t.contract,timeStart:new Date(Date.now()-2592e6).toISOString(),timeEnd:new Date().toISOString(),interval:"1d",convert:"USD"}).unwrap();console.log("Historical quotes result:",e),e.ok&&e.data&&Array.isArray(e.data.quotes)?L(e.data.quotes):(console.log("No historical data available or invalid response structure"),L([]))}catch(t){console.error("Error in getHistoricalQuotes:",t),e("Failed to get historical quotes"),L([])}finally{w(!1)}},350);(0,s.useEffect)(()=>{o&&H(o)},[o]);let z=eY(async t=>{try{if(w(!0),!a||!o||!F||!t||Number(t)>(null==a?void 0:a.balance))return;let e=await Z({symbol:null==a?void 0:a.symbol,network:null==F?void 0:F.network}).unwrap();if(e.ok&&e.data){let n=e.data.price,i=await Z({symbol:null==o?void 0:o.symbol,network:null==F?void 0:F.network}).unwrap();if(i.ok&&i.data){let e=i.data.price,a=n/e,l=Number(t)*a;f(a),h(l.toFixed(6))}}}catch(t){e("Failed to get token price")}finally{w(!1)}},350),V=eY(async(t,n)=>{try{console.log("Token:",t),console.log("Query params:",{network:t.network,contract:t.contract}),T(!0);let e=await I({symbol:t.symbol,contract:t.contract,network:t.network}).unwrap();e.ok&&e.data&&_(e.data)}catch(t){e("Failed to get extended token info")}finally{T(!1)}},350),K=(0,s.useCallback)(()=>{l(void 0),r(void 0),c(""),h(""),f(0),k("swap"),_(null),n(y.vB.clearSelectedToken())},[n]);(0,s.useEffect)(()=>()=>{K()},[K]);let q=async()=>{try{if(w(!0),!a||!o||!F||!d)return;let e=Math.round(100*D);console.log("Slippage (bps) frontend:",e),(await B({wallet_id:F.id,from_token_id:a.id,to_token_id:o.id,amount:Number(d),slippageBps:e}).unwrap()).ok&&(t("Swap successful"),K(),n(p.fw.removeAllWindows()),A())}catch(t){e("Failed to swap tokens")}finally{w(!1)}},Q=(0,s.useCallback)(t=>{let n=t.target.value;c(n),a&&Number(n)>a.balance&&e("Insufficient funds"),n?z(n):(f(0),h(""))},[a,e,z]),G=e=>{console.log("Setting fromToken:",e),l(e),k("swap"),e.id===(null==o?void 0:o.id)&&(r(void 0),_(null)),d&&z(d)};return(0,s.useEffect)(()=>{i&&G(i)},[i]),{flow:{handleFromAmountChange:Q,handleSwapConfirm:q,handleMaxButtonClick:()=>{a&&(c(a.balance.toString()),z(a.balance.toString()))},handleOpenConfirmWindow:()=>{n(p.fw.addWindow({window:p.oL.ConfirmSwap}))},handleOpenSelectFromTokenModal:()=>{k("selectFromToken")},handleOpenSelectToTokenModal:()=>{k("selectToToken")},handleSelectFromToken:G,handleSelectToToken:e=>{r(e),k("swap"),e.id===(null==a?void 0:a.id)&&l(void 0),(null==F?void 0:F.network)&&V(e,F.network),d&&z(d)},handleBackToSwap:()=>{k("swap")},handleSwapTokens:()=>{l(o),r(a),c(u),h(d),a&&(null==F?void 0:F.network)&&V(a,F.network)},updateSlippage:e=>{E(e)}},state:{fromAmount:d,toAmount:u,rate:g,fromToken:a,toToken:o,isConfirmSwapWindowOpen:M,isLoading:x||N,isSwapWindowOpen:O,selectedWallet:F,fromTokens:P,toTokens:R,network:null==F?void 0:F.network,isSwapButtonDisabled:!a||!o||!d||x||a&&Number(d)>a.balance,isNoTokensToSwap:0===P.length,currentView:v,tokenExtendedInfo:j,isTokenInfoLoading:b,historicalData:W,slippage:D}}};var ts=n(5950),td=n.n(ts),tc={src:"/swap-tg-client/_next/static/media/swap-icon.3eeb7297.svg",height:24,width:25,blurWidth:0,blurHeight:0},tu={src:"/swap-tg-client/_next/static/media/settings-icon.ac6b91c4.svg",height:16,width:16,blurWidth:0,blurHeight:0},tp={src:"/swap-tg-client/_next/static/media/arrow-icon.d7a7755a.svg",height:20,width:20,blurWidth:0,blurHeight:0},th=(0,s.memo)(e=>{let{isFrom:t,token:n,amount:i,usdAmount:a,onAmountChange:l,onTokenSelect:o,onMaxClick:s,showTokenInfoButton:d,onShowTokenInfo:c,showTokenInfo:u}=e;return(0,r.jsxs)("div",{className:td().tokenBlock,children:[(0,r.jsx)("div",{className:td().label,children:t?"You give":"You receive"}),(0,r.jsxs)("div",{className:td().tokenInfo,children:[(0,r.jsxs)("div",{className:td().amountInfo,children:[(0,r.jsx)("input",{id:t?"fromAmount":"toAmount",name:t?"fromAmount":"toAmount",type:"number",value:i,onChange:l,placeholder:"0",className:td().amountInput,readOnly:!t}),(0,r.jsxs)("div",{className:td().usdAmount,children:[a," $"]})]}),(0,r.jsxs)("div",{className:td().tokenSelector,onClick:o,children:[n&&(0,r.jsx)(D.default,{src:(0,e3.j)(n),alt:"".concat(n.symbol," icon"),width:24,height:24}),(0,r.jsx)("span",{children:n?n.symbol:"Token"}),(0,r.jsx)("span",{className:td().arrow,children:(0,r.jsx)(D.default,{src:tp,alt:"",width:24,height:24})})]})]}),(0,r.jsxs)("div",{className:td().bottomContainer,children:[(0,r.jsx)("div",{className:td().buttonWrapper,children:t?(0,r.jsx)("div",{className:td().percentButtons,children:["25%","50%","75%","Max"].map((e,t)=>(0,r.jsx)("button",{onClick:()=>{3===t&&s?s():l&&l({target:{value:n?(n.balance*(t+1)*.25).toFixed(6):"0"}})},className:td().actionButton,children:e},e))}):d&&(0,r.jsxs)("button",{onClick:c,className:td().actionButton,children:[u?"Hide":"Show"," Info"]})}),(0,r.jsx)("div",{className:td().balance,children:n?"".concat(n.balance.toFixed(2)," ").concat(n.symbol):""})]})]})}),tx=n(2516),tw=n.n(tx),tg=e=>{let{label:t,value:n,className:i}=e;return(0,r.jsxs)("div",{className:tw().infoItem,children:[(0,r.jsx)(h.Z.Text,{text:t,className:tw().label}),(0,r.jsx)(h.Z.Text,{text:n,className:"".concat(tw().value," ").concat(i||"")})]})},tf=n(7346),tC=n(5211);n(7882),tC.kL.register(tC.FB,tC.f$,tC.od,tC.jn,tC.Dx,tC.u,tC.De);var tv=e=>{var t,n,i,a;let{token:l,tokenExtendedInfo:o,tokenImage:s,historicalData:d}=e,{successToast:c}=C(),u=e=>void 0===e?"":e<0?tw().negativeChange:tw().positiveChange,p=e=>void 0===e?"N/A":"".concat(e>0?"+":"").concat(e.toFixed(2),"%"),x=()=>{var e;navigator.clipboard.writeText(null!==(e=l.contract)&&void 0!==e?e:""),c("Copied",{icon:(0,r.jsx)(w,{width:21,height:21})})},g={datasets:[{label:"Price",data:d.map(e=>({x:new Date(e.timestamp),y:e.price})),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.1)",borderWidth:2,pointRadius:0,fill:!0}]};return(0,r.jsxs)("div",{className:tw().tokenInfoBlock,children:[(0,r.jsxs)("div",{className:tw().header,children:[(0,r.jsxs)("div",{className:tw().tokenIdentity,children:[(0,r.jsx)(D.default,{src:s,alt:l.symbol,width:40,height:40,className:tw().tokenIcon}),(0,r.jsxs)("div",{className:tw().tokenDetails,children:[(0,r.jsx)(h.Z.Text,{text:l.symbol,className:tw().tokenSymbol}),(0,r.jsx)(h.Z.Text,{text:"$".concat((null===(t=o.price)||void 0===t?void 0:t.toFixed(6))||"N/A"),className:tw().price})]})]}),(0,r.jsx)("div",{className:tw().tokenPriceChange,children:(0,r.jsx)(h.Z.Text,{text:p(o.percent_change_24h),className:"".concat(tw().priceChange," ").concat(u(o.percent_change_24h))})})]}),(0,r.jsx)(h.Z.Text,{text:l.contract||"Address not available",className:tw().tokenAddress,onClick:()=>x()}),(0,r.jsx)(et,{className:tw().copyIcon,onClick:()=>x()}),(0,r.jsx)("div",{className:tw().chartPlaceholder,children:d&&d.length>0?(0,r.jsx)(tf.x1,{data:g,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+="$"+e.parsed.y.toFixed(8)),t},title:function(e){return e[0].parsed.x?new Date(e[0].parsed.x).toLocaleString():""}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:7}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{maxTicksLimit:5,callback:function(e){return"number"==typeof e?"$"+e.toFixed(6):"$"+e}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}):(0,r.jsx)(h.Z.Text,{text:"No historical data available"})}),(0,r.jsxs)("div",{className:tw().infoGrid,children:[(0,r.jsx)(tg,{label:"Total Supply",value:(null===(n=o.total_supply)||void 0===n?void 0:n.toLocaleString())||"N/A"}),(0,r.jsx)(tg,{label:"Max Supply",value:(null===(i=o.max_supply)||void 0===i?void 0:i.toLocaleString())||"N/A"}),(0,r.jsx)(tg,{label:"Market Cap",value:"$".concat((null===(a=o.market_cap)||void 0===a?void 0:a.toLocaleString())||"N/A")}),(0,r.jsx)(tg,{label:"24h Change",value:p(o.percent_change_24h),className:u(o.percent_change_24h)}),(0,r.jsx)(tg,{label:"7d Change",value:p(o.percent_change_7d),className:u(o.percent_change_7d)}),(0,r.jsx)(tg,{label:"30d Change",value:p(o.percent_change_30d),className:u(o.percent_change_30d)})]})]})};let tk=e=>{let{logic:t}=e,{flow:n,state:i}=t,[a,l]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(i.slippage.toString());(0,s.useEffect)(()=>{u(i.slippage.toString())},[i.slippage]);let p=(0,s.useCallback)(n.handleFromAmountChange,[n]),h=e=>{n.updateSlippage(e),d(!1)};return(0,r.jsx)(ev,{isOpen:i.isSwapWindowOpen,btnText:"Continue",btnOnClick:n.handleOpenConfirmWindow,isBtnActive:!i.isSwapButtonDisabled,isBtnDisabled:i.isSwapButtonDisabled,children:(0,r.jsxs)("div",{className:td().swapWindowWrapper,children:[(0,r.jsx)("div",{className:td().headerWrapper,children:(0,r.jsxs)("div",{className:td().titleContainer,children:[(0,r.jsx)("h2",{className:td().title,children:"Swap"}),(0,r.jsxs)("div",{className:td().slippageContainer,children:[(0,r.jsxs)("button",{className:td().autoButton,onClick:()=>d(!o),children:["Auto ",i.slippage,"%",(0,r.jsx)(D.default,{src:tu,alt:"Settings",width:16,height:16})]}),o&&(0,r.jsxs)("div",{className:td().slippageOptions,children:[(0,r.jsx)("div",{className:td().slippageTitle,children:"Set slippage"}),(0,r.jsx)("div",{className:td().slippageButtons,children:[.5,1,2,3,5].map(e=>(0,r.jsxs)("button",{onClick:()=>h(e),className:i.slippage===e?td().activeSlippage:"",children:[e,"%"]},e))}),(0,r.jsxs)("div",{className:td().customSlippage,children:[(0,r.jsx)("input",{type:"text",value:c,onChange:e=>{u(e.target.value)},placeholder:"Custom"}),(0,r.jsx)("span",{children:"%"})]}),(0,r.jsxs)("div",{className:td().slippageActions,children:[(0,r.jsx)("button",{onClick:()=>d(!1),className:td().cancelButton,children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{let e=parseFloat(c);!isNaN(e)&&e>=0&&e<=100?n.updateSlippage(e):u(i.slippage.toString()),d(!1)},className:td().saveButton,children:"Save"})]})]})]})]})}),(0,r.jsxs)("div",{className:td().content,children:[(0,r.jsx)(th,{isFrom:!0,token:i.fromToken,amount:i.fromAmount,usdAmount:i.fromToken?(Number(i.fromAmount)*(i.fromToken.price||0)).toFixed(2):"0.00",onAmountChange:p,onTokenSelect:n.handleOpenSelectFromTokenModal,onMaxClick:n.handleMaxButtonClick}),(0,r.jsx)("div",{className:td().swapButtonWrapper,children:(0,r.jsx)("div",{className:td().swapButton,onClick:n.handleSwapTokens,children:(0,r.jsx)(D.default,{src:tc,alt:"",width:24,height:24})})}),(0,r.jsx)(th,{isFrom:!1,token:i.toToken,amount:i.toAmount,usdAmount:i.toToken?(Number(i.toAmount)*(i.toToken.price||0)).toFixed(2):"0.00",onTokenSelect:n.handleOpenSelectToTokenModal,showTokenInfoButton:!!i.toToken,onShowTokenInfo:()=>l(!a),showTokenInfo:a}),a&&i.toToken&&i.tokenExtendedInfo&&(0,r.jsx)(tv,{token:i.toToken,tokenExtendedInfo:i.tokenExtendedInfo,tokenImage:(0,e3.j)(i.toToken),historicalData:i.historicalData}),i.rate>0&&i.fromToken&&i.toToken&&(0,r.jsxs)("div",{className:td().rate,children:["Best price: 1 ",i.fromToken.symbol," ≈ ",i.rate.toFixed(6)," ",i.toToken.symbol]})]})]})})},tm=e=>{var t,n;let{flow:i,state:a}=e.logic,l=(e,t,n)=>(0,r.jsxs)(v.k,{align:"center",gap:12,style:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"12px",width:"100%"},children:[t&&(0,r.jsx)(D.default,{src:(0,e3.j)(t),alt:"".concat(t.symbol," icon"),width:32,height:32}),(0,r.jsxs)(v.k,{direction:"column",children:[(0,r.jsx)(h.Z.Title,{text:e,fontFamily:"ClashDisplay-Bold",fontSize:28}),(0,r.jsx)(h.Z.Text,{text:(null==t?void 0:t.symbol)||"",type:"secondary"})]})]});return(0,r.jsxs)(ev,{isOpen:a.isConfirmSwapWindowOpen,zIndex:5006,btnOnClick:i.handleSwapConfirm,btnText:"Confirm",isBtnActive:!0,children:[(0,r.jsx)(eg,{title:"Confirm Swap",isLoading:a.isLoading}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:24,style:{padding:"0 16px"},children:[(0,r.jsxs)(v.k,{width:"100%",direction:"column",align:"center",gap:12,children:[l(a.fromAmount,a.fromToken,!0),(0,r.jsx)(h.Z.Text,{text:"↓",type:"secondary",fontSize:24}),l(a.toAmount,a.toToken,!1)]}),(0,r.jsxs)(v.k,{width:"100%",direction:"column",gap:16,style:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"12px"},children:[(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"Rate",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"1 ".concat(null===(t=a.fromToken)||void 0===t?void 0:t.symbol," = ").concat(a.rate.toFixed(6)," ").concat(null===(n=a.toToken)||void 0===n?void 0:n.symbol)})]}),(0,r.jsxs)(v.k,{width:"100%",justify:"space-between",children:[(0,r.jsx)(h.Z.Text,{text:"Network fee",type:"secondary"}),(0,r.jsx)(h.Z.Text,{text:"≈ 0.1 $"})]})]}),(0,r.jsx)(h.Z.Description,{text:"Please make sure you are swapping to the correct token",align:"center",type:"secondary",fontSize:14})]})]})},tj=e=>{let{tokens:t,onSelectToken:n,onBack:i,title:a}=e,{state:l}=tr(),[o,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[p]=y.fK.useLazyGetTokenInfoQuery(),x=(0,m.v9)(y.wR),w=eY(async e=>{if(e&&x){u(!0);try{let t=await p({network:x.network,contract:e}).unwrap();if(t.data){let i=new Date().toISOString(),a={id:t.data.contract,wallet_id:x.id,symbol:t.data.symbol,network:x.network,name:t.data.name,contract:e,balance:0,balance_usd:0,price:t.data.price,price_change_percentage:t.data.price_change_percentage||0,icon:t.data.icon||"",added_at:i,updated_at:i};n(a)}}catch(e){console.error("Failed to get token info",e)}finally{u(!1)}}},350),g=(0,s.useCallback)(e=>{let t=e.target.value;d(t),t&&w(t)},[w]);return(0,r.jsxs)(ev,{isOpen:l.isSwapWindowOpen,children:[(0,r.jsx)(eg,{title:a,isLoading:l.isLoading}),(0,r.jsxs)(v.k,{direction:"column",gap:12,children:[(0,r.jsx)(M,{onClick:i,style:{width:"100%",padding:"12px",borderRadius:"20px",backgroundColor:"rgba(233, 237, 242, 1)",justifyContent:"center"},children:(0,r.jsx)(h.Z.Text,{text:"Back to Swap"})}),(0,r.jsx)(eR,{label:"Enter ".concat((null==x?void 0:x.network)||""," token contract address"),placeholder:"0x...",value:o,onChange:g}),t.map(e=>(0,r.jsx)(M,{onClick:()=>n(e),style:{width:"100%",justifyContent:"flex-start",padding:"12px",borderRadius:"12px"},children:(0,r.jsxs)(v.k,{align:"center",gap:12,style:{width:"100%"},children:[(0,r.jsx)(D.default,{src:e.icon,alt:e.symbol,width:32,height:32}),(0,r.jsxs)(v.k,{direction:"column",align:"flex-start",children:[(0,r.jsx)(h.Z.Text,{text:e.symbol,weight:"bold"}),(0,r.jsx)(h.Z.Text,{text:e.name,type:"secondary"})]}),(0,r.jsxs)(v.k,{direction:"column",align:"flex-end",style:{marginLeft:"auto"},children:[(0,r.jsx)(h.Z.Text,{text:"".concat(e.balance.toFixed(4)," ").concat(e.symbol)}),(0,r.jsx)(h.Z.Text,{text:"$".concat(e.balance_usd.toFixed(2)),type:"secondary"})]})]})},e.id))]})]})},ty=()=>{let e=tr(),{state:t,flow:n}=e;return(0,r.jsxs)(ev,{isOpen:t.isSwapWindowOpen,children:[(0,r.jsx)(eg,{title:"Swap"}),(()=>{switch(t.currentView){case"selectFromToken":return(0,r.jsx)(tj,{tokens:t.fromTokens,onSelectToken:n.handleSelectFromToken,onBack:n.handleBackToSwap,title:"Select token to swap from"});case"selectToToken":return(0,r.jsx)(tj,{tokens:t.toTokens,onSelectToken:n.handleSelectToToken,onBack:n.handleBackToSwap,title:"Select token to swap to"});default:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tk,{logic:e}),t.isConfirmSwapWindowOpen&&(0,r.jsx)(tm,{logic:e})]})}})()]})},t_=()=>(Q(),(0,r.jsxs)(ec,{children:[(0,r.jsx)(P,{}),(0,r.jsx)(er,{}),(0,r.jsx)(ee,{}),(0,r.jsx)(j,{}),(0,r.jsx)(ey,{}),(0,r.jsx)(ty,{}),(0,r.jsx)(tt,{}),(0,r.jsx)(to,{}),(0,r.jsx)(e7,{}),(0,r.jsx)(eX,{}),(0,r.jsx)(e6,{}),(0,r.jsx)(eQ,{}),(0,r.jsx)(e1,{}),(0,r.jsx)(ey,{}),(0,r.jsx)(eO,{}),(0,r.jsx)(eI,{}),(0,r.jsx)(eL,{}),(0,r.jsx)(eH,{}),(0,r.jsx)(eV,{})]}))},6234:function(e,t,n){"use strict";n.r(t),n.d(t,{WalletPageToken:function(){return x}});var i=n(7437),a=n(2265),l=n(1355),o=n(7175),r=n(1531),s=n(6648),d=n(7206),c={src:"/swap-tg-client/_next/static/media/trash.6e668411.svg",height:24,width:24,blurWidth:0,blurHeight:0},u=n(3657),p=n(1444);let h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}},x=e=>{let{token:t,onDeleteToken:n,...x}=e,w=(0,p.I0)(),[g,f]=(0,a.useState)(!1),[C,v]=(0,a.useState)(!1),k=(0,a.useRef)(null),m=(0,a.useRef)(null),j=e=>{k.current&&(k.current.style.transform="translateX(".concat(-e,"px)"))},{ref:y,..._}=(0,d.QS)({onSwiping:e=>{"Left"===e.dir?j(Math.min(80,Math.max(0,-e.deltaX))):"Right"===e.dir&&j(Math.max(0,(g?80:0)-e.deltaX))},onSwipedLeft:()=>{f(!0),j(80)},onSwipedRight:()=>{f(!1),j(0)},trackMouse:!0,trackTouch:!0}),b=(0,a.useCallback)(()=>{!g&&(console.log("Token clicked:",t),w(u.fw.addWindow({window:u.oL.TokenDetails})),x.onTokenClick&&x.onTokenClick(t))},[g,w,t,x.onTokenClick]);(0,a.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&(f(!1),j(0))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let T=(0,a.useMemo)(()=>h(m,y),[y]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{ref:T,..._,style:{position:"relative",overflow:"hidden"},children:[(0,i.jsx)("div",{ref:k,style:{transition:"transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)",willChange:"transform"},children:(0,i.jsxs)(r.k,{width:"100%",align:"center",radius:"16px",height:"60px",padding:"10px 16px",justify:"space-between",bg:"var(--secondaryBg)",onClick:b,children:[(0,i.jsxs)(r.k,{align:"center",gap:12,children:[(0,i.jsx)(s.default,{width:40,height:40,src:(0,o.j)(t),alt:"token-icon",priority:!0}),(0,i.jsxs)(r.k,{direction:"column",gap:3,children:[(0,i.jsx)(l.Z.Text,{text:"".concat(t.name," (").concat(t.symbol,")"),weight:550,width:x.isHidePrice?"250px":"135px",wrap:"nowrap"}),x.isHidePrice?(0,i.jsx)(l.Z.Text,{text:"".concat(t.balance," ").concat(t.symbol),weight:450,align:"left",wrap:"nowrap",type:"secondary"}):(0,i.jsx)(l.Z.Text,{type:"secondary",wrap:"nowrap",text:(0,i.jsxs)(i.Fragment,{children:["$",t.price.toFixed(2)," ",(0,i.jsx)(l.Z.Text,{wrap:"nowrap",text:"".concat(t.price_change_percentage.toFixed(2),"%"),color:t.price_change_percentage>0?"var(--green)":"var(--red)"})]})})]})]}),!x.isHidePrice&&(0,i.jsxs)(r.k,{direction:"column",align:"flex-end",gap:3,children:[(0,i.jsx)(l.Z.Text,{text:"".concat(0!==t.balance?t.balance.toFixed(4):t.balance.toFixed(0)," ").concat(t.symbol),weight:550,align:"right",wrap:"nowrap"}),(0,i.jsx)(l.Z.Text,{text:"".concat(t.balance_usd.toFixed(2),"$"),type:"secondary",align:"right",wrap:"nowrap"})]})]})}),(0,i.jsx)("div",{style:{position:"absolute",top:0,right:0,bottom:0,width:"".concat(80,"px"),background:"var(--primaryBg)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transform:"translateX(".concat(g?"0":"100%",")"),transition:"transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)"},onClick:e=>{e.stopPropagation(),n&&n(t),f(!1),j(0)},children:(0,i.jsxs)(r.k,{align:"center",gap:8,children:[(0,i.jsx)(s.default,{src:c,alt:"",width:24,height:24}),(0,i.jsx)(l.Z.Text,{text:"Delete",type:"secondary"})]})})]})})}},1101:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var i=n(6074),a=n(8507);let l=()=>{var e,t;return(null===(t=window.Telegram)||void 0===t?void 0:null===(e=t.WebApp)||void 0===e?void 0:e.initData)||null},o=()=>{var e,t,n,i;return(null===(i=window.Telegram)||void 0===i?void 0:null===(n=i.WebApp)||void 0===n?void 0:null===(t=n.initDataUnsafe)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.id)||null},r=()=>{var e,t,n,i;return(null===(i=window.Telegram)||void 0===i?void 0:null===(n=i.WebApp)||void 0===n?void 0:null===(t=n.initDataUnsafe)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.username)||null},s=()=>{var e,t,n,i;return(null===(i=window.Telegram)||void 0===i?void 0:null===(n=i.WebApp)||void 0===n?void 0:null===(t=n.initDataUnsafe)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.language_code)||null},d=(0,i.ni)({baseUrl:"https://cryptoswaptg.ru/v1",credentials:"include",prepareHeaders:e=>{e.set("Content-Type","application/json");let t=l();t&&(e.set("X-Telegram-Init-Data",t),e.set("Authorization","tma ".concat(t)));let n=o();return n&&e.set("X-Telegram-ID",n.toString()),e}}),c=async(e,t,n)=>{let i=await d(e,t,n);if(i.error&&(401===i.error.status||403===i.error.status)){let a=o(),l=r(),c=s();a&&((await d({url:"/users/profile?telegram_id=".concat(a,"&username=").concat(l,"&language_code=").concat(c),method:"GET"},t,n)).data?i=await d(e,t,n):console.error("Failed to refresh session"))}return i},u=(0,a.LC)({baseQuery:c,reducerPath:"api",tagTypes:["User","Workspace","Ticker","Chart","Quote","Stock","Event"],refetchOnMountOrArgChange:!0,endpoints:e=>({})})},4832:function(e,t,n){"use strict";n.d(t,{Ac:function(){return l},bq:function(){return i},nV:function(){return a}});let i="_auth.telegram_id",a="_app.wallet",l="_app.network"},1531:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var i=n(7437);let a=n(2265).forwardRef((e,t)=>{let n={gap:e.gap,width:e.width,borderRadius:e.radius,height:e.height,padding:e.padding,margin:e.margin,background:e.bg,alignItems:e.align,flexDirection:e.direction,justifyContent:e.justify,...e.style,display:"flex"};return(0,i.jsx)("div",{ref:t,style:n,onScroll:e.onScroll,onClick:e.onClick,className:null==e?void 0:e.className,children:e.children})})},1355:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i,a,l=n(7437),o=n(7483),r=n.n(o),s=n(6800),d=n.n(s);n(2265);var c=n(1531);(i=a||(a={})).Text="Text",i.Title="Title",i.Description="Description";let u={Text:e=>{var t,n,i;let a={color:e.color,width:e.block?"100%":e.width,margin:e.margin,fontSize:e.fontSize,textAlign:e.align,whiteSpace:e.wrap,fontWeight:e.weight,textTransform:e.transform,overflow:null!==(t=e.overflow)&&void 0!==t?t:"hidden",textOverflow:null!==(n=e.textOverflow)&&void 0!==n?n:"ellipsis",fontFamily:e.fontFamily,letterSpacing:e.letterSpacing},o={[r()[null!==(i=e.type)&&void 0!==i?i:""]]:!0};return(0,l.jsx)("span",{style:a,onClick:e.onClick,className:d()(r().typography_text,e.className,o),children:e.text})},Title:e=>{var t,n,i,a,o;let s="h".concat(null!==(t=e.level)&&void 0!==t?t:1),p={color:e.color,width:e.block?"100%":"auto",margin:e.margin,fontSize:e.fontSize,textAlign:e.align,whiteSpace:e.wrap,fontWeight:e.weight,textTransform:e.transform,fontFamily:e.fontFamily,letterSpacing:e.letterSpacing},h={[r()[null!==(n=e.type)&&void 0!==n?n:""]]:!0},x=null!==(i=e.gap)&&void 0!==i?i:3,w=null!==(a=e.direction)&&void 0!==a?a:"column",g=null!==(o=e.blockAlign)&&void 0!==o?o:"flex-start";return(0,l.jsx)(l.Fragment,{children:e.subtitle?(0,l.jsxs)(c.k,{width:"100%",justify:"center",align:g,direction:w,gap:x,children:[(0,l.jsx)(s,{style:p,onClick:e.onClick,className:d()(r().typography_title,h,e.className),children:e.text}),"string"==typeof e.subtitle?(0,l.jsx)(u.Text,{text:e.subtitle,type:"secondary",weight:"400",align:"left",className:d()(r().typography_subtitle)}):e.subtitle]}):(0,l.jsx)(s,{style:p,onClick:e.onClick,className:d()(r().typography_title,h,e.className),children:e.text})})},Description:e=>{var t;let n={color:e.color,margin:e.margin,fontSize:e.fontSize,textAlign:e.align,whiteSpace:e.wrap,fontWeight:e.weight,textTransform:e.transform,fontFamily:e.fontFamily,letterSpacing:e.letterSpacing},i={[r()[null!==(t=e.type)&&void 0!==t?t:""]]:!0};return(0,l.jsx)("p",{style:n,onClick:e.onClick,className:d()(r().typography_description,i,e.className),children:e.text})}}},6744:function(e){e.exports={tokens_list:"WalletPageTokens_tokens_list__9EMpv",add_token_btn:"WalletPageTokens_add_token_btn__7wofI"}},4933:function(e){e.exports={root:"Button_root__QBtag",button:"Button_button__wliYd",default:"Button_default__ZwuzV",text:"Button_text__7Xwh0",primary:"Button_primary__G1mpW",inline:"Button_inline__OgPEt",block:"Button_block__cfTug",disabled:"Button_disabled__pfHmQ"}},7679:function(e){e.exports={divider:"Divider_divider__W8Vx2"}},7702:function(e){e.exports={input_wrapper:"Input_input_wrapper__ruJIW",label:"Input_label__5xQux",input_container:"Input_input_container__XaIJ8",input:"Input_input__dwy5x",max_btn:"Input_max_btn__AcZKS",block:"Input_block__6AfsK",light:"Input_light__5mF1D",readonly:"Input_readonly__IM6lJ",hasIcon:"Input_hasIcon__j0Vky"}},6537:function(e){e.exports={root:"Page_root__KVFpO",page:"Page_page__BB_4Z",centered:"Page_centered__RXVrr"}},1779:function(e){e.exports={spinner:"Spinner_spinner__e5cRg",center:"Spinner_center__ta89F",spinner_blade:"Spinner_spinner_blade__RwOsT","spinner-fade":"Spinner_spinner-fade__JDkVd",black:"Spinner_black__q00Yh","spinner-fade-black":"Spinner_spinner-fade-black__Hr8h_"}},7483:function(e){e.exports={root:"Typography_root__WDTc_",typography_subtitle:"Typography_typography_subtitle__iHLj_",typography_text:"Typography_typography_text__r3JJz",typography_title:"Typography_typography_title__o1r9B",typography_description:"Typography_typography_description__nzBlr",secondary:"Typography_secondary__Z26hV"}},389:function(e){e.exports={root:"Window_root__4kgDR",window_wrapper:"Window_window_wrapper__GinoP",window:"Window_window__hHL9J",content:"Window_content__Q9uCt",footer:"Window_footer__bbcNs",footer_btn:"Window_footer_btn__TIGqW",danger:"Window_danger__d2QZP",disabled:"Window_disabled__mqvkI"}},6187:function(e){e.exports={loading_window:"LoadingWindow_loading_window__WqFNw"}},2878:function(e){e.exports={network:"NetworksWindow_network__AFnQf",network_selected_pill:"NetworksWindow_network_selected_pill__yYP9L"}},5950:function(e){e.exports={swapWindowWrapper:"PrepareSwapWindow_swapWindowWrapper__jfD_T",headerWrapper:"PrepareSwapWindow_headerWrapper__C_DDE",titleContainer:"PrepareSwapWindow_titleContainer__tOah_",title:"PrepareSwapWindow_title__QpjC1",slippageContainer:"PrepareSwapWindow_slippageContainer__zlKFv",autoButton:"PrepareSwapWindow_autoButton__9zdYn",slippageOptions:"PrepareSwapWindow_slippageOptions__ZGBP1",slippageTitle:"PrepareSwapWindow_slippageTitle__8lm4t",slippageButtons:"PrepareSwapWindow_slippageButtons__ytH3x",activeSlippage:"PrepareSwapWindow_activeSlippage__g5aHL",customSlippage:"PrepareSwapWindow_customSlippage__shxjd",slippageActions:"PrepareSwapWindow_slippageActions___nSJW",cancelButton:"PrepareSwapWindow_cancelButton__RiNJu",saveButton:"PrepareSwapWindow_saveButton__urmnH",content:"PrepareSwapWindow_content__U831B",tokenBlock:"PrepareSwapWindow_tokenBlock__0c_AL",label:"PrepareSwapWindow_label__WFJz7",tokenInfo:"PrepareSwapWindow_tokenInfo__HBbFQ",amountInfo:"PrepareSwapWindow_amountInfo__8OO_E",amountInput:"PrepareSwapWindow_amountInput__ePpwr",usdAmount:"PrepareSwapWindow_usdAmount__pBdiT",tokenSelector:"PrepareSwapWindow_tokenSelector__b_uI6",arrow:"PrepareSwapWindow_arrow__R30Gx",bottomContainer:"PrepareSwapWindow_bottomContainer__k2M2_",buttonWrapper:"PrepareSwapWindow_buttonWrapper__JzFHG",percentButtons:"PrepareSwapWindow_percentButtons__fGyw2",actionButton:"PrepareSwapWindow_actionButton__1DNSS",balance:"PrepareSwapWindow_balance__Smb5Y",swapButtonWrapper:"PrepareSwapWindow_swapButtonWrapper__axaFW",swapButton:"PrepareSwapWindow_swapButton__IMKzW",buttonContainer:"PrepareSwapWindow_buttonContainer__jMBhD",tokenInfoBlock:"PrepareSwapWindow_tokenInfoBlock__6CuQQ",rate:"PrepareSwapWindow_rate__oVtf7"}},2516:function(e){e.exports={tokenInfoBlock:"TokenInfoBlock_tokenInfoBlock__BcSGC",header:"TokenInfoBlock_header__5iYYw",tokenIdentity:"TokenInfoBlock_tokenIdentity__LA5Ij",tokenIcon:"TokenInfoBlock_tokenIcon__dom9C",tokenDetails:"TokenInfoBlock_tokenDetails__lrJC6",tokenSymbol:"TokenInfoBlock_tokenSymbol__E2hrk",tokenAddress:"TokenInfoBlock_tokenAddress__NkhbL",tokenPrice:"TokenInfoBlock_tokenPrice__tyjEK",price:"TokenInfoBlock_price__uE7oH",priceChange:"TokenInfoBlock_priceChange__Cvi4B",tokenPriceChange:"TokenInfoBlock_tokenPriceChange__OYX_Z",chartPlaceholder:"TokenInfoBlock_chartPlaceholder__3cbHn",infoGrid:"TokenInfoBlock_infoGrid__YTqce",infoItem:"TokenInfoBlock_infoItem__3gJv3",label:"TokenInfoBlock_label__3F9zl",value:"TokenInfoBlock_value__wnpcY",positiveChange:"TokenInfoBlock_positiveChange__pI2oB",negativeChange:"TokenInfoBlock_negativeChange__FpSWO"}},6805:function(e){e.exports={wallet:"WalletsListWindow_wallet__49J4Z",wallet_selected_pill:"WalletsListWindow_wallet_selected_pill__Yt58F"}},875:function(e,t,n){"use strict";n.r(t),t.default={src:"/swap-tg-client/_next/static/media/BSCCircleIcon.5333c467.svg",height:40,width:40,blurWidth:0,blurHeight:0}},6974:function(e,t,n){"use strict";n.r(t),t.default={src:"/swap-tg-client/_next/static/media/ETHCircleIcon.299d64ea.svg",height:40,width:40,blurWidth:0,blurHeight:0}},3082:function(e,t,n){"use strict";n.r(t),t.default={src:"/swap-tg-client/_next/static/media/SOLCircleIcon.da97ea57.svg",height:40,width:40,blurWidth:0,blurHeight:0}},3055:function(e,t,n){"use strict";n.r(t),t.default={src:"/swap-tg-client/_next/static/media/TONCircleIcon.3e8e17a7.svg",height:40,width:40,blurWidth:0,blurHeight:0}},5591:function(e,t,n){"use strict";n.r(t),t.default={src:"/swap-tg-client/_next/static/media/USDTCircleIcon.16293279.svg",height:20,width:20,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[335,326,674,990,255,801,971,23,744],function(){return e(e.s=2387)}),_N_E=e.O()}]);